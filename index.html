<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <link href="favicon.png" rel="icon" type="image/png" />

    <title>cloud.ca API Documentation</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;go&quot;,&quot;hcl&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">curl</a>
              <a href="#" data-language-name="go">go</a>
              <a href="#" data-language-name="hcl">terraform</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        
          <h1 id="getting-started">Getting started</h1>

<p>The cloud.ca API allows you to manage your environments and provision resources in a simple programmatic way using standard HTTP requests.</p>

<p>The API is  <a href="https://en.wikipedia.org/wiki/Representational_state_transfer">RESTful</a>. Responses, successful or not, are returned in <a href="http://www.json.org/">JSON</a>. Request bodies must be <a href="http://www.json.org/">JSON</a>, and should be made over SSL.</p>

<p>API endpoint : <code class="prettyprint">https://api.cloud.ca/v1</code></p>

<p>We have also developed tools to help consume our APIs. If you use <code class="prettyprint">go</code>, check out our <a href="https://github.com/cloud-ca/go-cloudca">library</a>. If you use Terraform, check out our <a href="https://github.com/cloud-ca/terraform-cloudca">provider</a>. NB: both are being actively developed, so there is still some functionality missing.</p>

<h2 id="authentication">Authentication</h2>
<pre class="highlight go"><code><span class="k">import</span><span class="x"> </span><span class="s">"github.com/cloud-ca/go-cloudca"</span><span class="x">
</span><span class="n">ccaClient</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">cca</span><span class="o">.</span><span class="n">NewCcaClient</span><span class="p">(</span><span class="s">"your_api_key"</span><span class="p">)</span><span class="x">
</span></code></pre>
<pre class="highlight shell"><code><span class="c">## To authenticate, add a header</span>
<span class="c">## Make sure to replace `your_api_key` with your API key.</span>
curl <span class="s2">"https://api.cloud.ca/v1/organizations"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span>
</code></pre>
<pre class="highlight dart"><code><span class="n">provider</span> <span class="s">"cloudca"</span> <span class="o">{</span>
    <span class="n">api_key</span> <span class="o">=</span> <span class="s">"</span><span class="si">${var.my_api_key}</span><span class="s">"</span>
<span class="o">}</span>
</code></pre>

<p>API endpoints are secured by the same role-based access control (RBAC) as the cloud.ca portal. To identify who is making the requests, it is required to add a header to your HTTP requests:</p>

<p><code class="prettyprint">MC-Api-Key: your_api_key</code></p>

<aside class="notice">
You must replace <code>your_api_key</code> with your personal API key.
</aside>

<p>The API key is found from the API keys section under the user profile menu. If you don&rsquo;t see cloud.ca API keys section, contact your system administrator as you may not have the permission to see that section. <strong>Your API key carries the same privileges as your cloud.ca account, so be sure to keep it secret</strong>. If you think your API has been compromised, regenerate your API key from the API keys section.</p>

<h2 id="http-verbs">HTTP verbs</h2>

<p>The cloud.ca API can be used by any tool that is fluent in HTTP. The appropriate HTTP method should be used depending on the desired action.</p>

<table><thead>
<tr>
<th>Verbs</th>
<th>Purpose</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">GET</code></td>
<td>Used to retrieve information about a resource.</td>
</tr>
<tr>
<td><code class="prettyprint">POST</code></td>
<td>Used to create (or provision) a new resource or perform an operation on it.</td>
</tr>
<tr>
<td><code class="prettyprint">PUT</code></td>
<td>Used to update a resource.</td>
</tr>
<tr>
<td><code class="prettyprint">DELETE</code></td>
<td>Used to delete a resource.</td>
</tr>
</tbody></table>

<h2 id="responses">Responses</h2>

<h3 id="success-response">Success response</h3>

<!--
```json
{
  "data": [
    { "_comment" : "JSON representation of first object goes here" },
    { "_comment" : "JSON representation of second object goes here" }
  ],
  "metadata": {
    "pageSize": 2,
    "pageCurrent": 1,
    "recordCount": 2,
    "sortField": "templateName",
    "sortOrder": "ASC"
  }
}
```
-->
<pre class="highlight shell"><code><span class="c"># Example without tasks</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w"> </span><span class="nt">"_comment"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"JSON representation of first object goes here"</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w"> </span><span class="nt">"_comment"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"JSON representation of second object goes here"</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight shell"><code><span class="c"># Example of compute API call with task</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"taskId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c2c13744-8610-4012-800a-0907bea110a5"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"taskStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PENDING"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>When an API request is successful, the response body will contain the <code class="prettyprint">data</code> field with the result of the API call. If you&rsquo;re using the <a href="#compute-api">compute API</a>, the <code class="prettyprint">data</code> field might be empty since most of the operations are asynchronous. The response will contain the <code class="prettyprint">taskId</code> and <code class="prettyprint">taskStatus</code> fields so that you can retrieve the result of the operation you executed through the <a href="#tasks">task API</a></p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">data</code></td>
<td>The data field contains the object requested by the API caller</td>
</tr>
<tr>
<td><code class="prettyprint">taskId</code></td>
<td>The <a href="#tasks">task id</a> of an operation executed through the <a href="#compute-api">compute API</a></td>
</tr>
<tr>
<td><code class="prettyprint">taskStatus</code></td>
<td>The status of a <a href="#tasks">task</a> of an operation executed through the <a href="#compute-api">compute API</a></td>
</tr>
</tbody></table>

<!--
`metadata` | The metadata is an optionally returned field containing paging and sorting information
-->

<aside class="notice">
If the response contains the &ldquo;errors&rdquo; field, the request was <strong>not</strong> successful
</aside>

<h3 id="error-response">Error response</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">2012</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cannot stop an instance that isn't in the running state"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"context"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4534cc36-bc46-48bc-ac5c-3ee4e42f0a44"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"currentState"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Stopped"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"expectedStates"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"Running"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"instances"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight go"><code><span class="n">_</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">Volumes</span><span class="o">.</span><span class="n">Get</span><span class="p">(</span><span class="s">"[some-volume-id]"</span><span class="p">)</span><span class="x">
</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
   </span><span class="k">if</span><span class="x"> </span><span class="n">errorResponse</span><span class="p">,</span><span class="x"> </span><span class="n">ok</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">err</span><span class="o">.</span><span class="p">(</span><span class="n">api</span><span class="o">.</span><span class="n">CcaErrorResponse</span><span class="p">);</span><span class="x"> </span><span class="n">ok</span><span class="x"> </span><span class="p">{</span><span class="x">
      </span><span class="k">if</span><span class="x"> </span><span class="n">errorResponse</span><span class="o">.</span><span class="n">StatusCode</span><span class="x"> </span><span class="o">==</span><span class="x"> </span><span class="n">api</span><span class="o">.</span><span class="n">NOT_FOUND</span><span class="x"> </span><span class="p">{</span><span class="x">
         </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Volume was not found"</span><span class="p">)</span><span class="x">
      </span><span class="p">}</span><span class="x"> </span><span class="k">else</span><span class="x"> </span><span class="p">{</span><span class="x">
         </span><span class="c">//Can get more details from the CcaErrors</span><span class="x">
         </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">errorResponse</span><span class="o">.</span><span class="n">Errors</span><span class="p">)</span><span class="x">
      </span><span class="p">}</span><span class="x">
   </span><span class="p">}</span><span class="x"> </span><span class="k">else</span><span class="x"> </span><span class="p">{</span><span class="x">
      </span><span class="c">//handle unexpected error</span><span class="x">
      </span><span class="nb">panic</span><span class="p">(</span><span class="s">"Unexpected error"</span><span class="p">)</span><span class="x">
   </span><span class="p">}</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre>

<p>When an API request is unsuccessful, the response body will contain the <code class="prettyprint">errors</code> field :</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">errors</code></td>
<td>A list of errors objects that contain information about each error</td>
</tr>
</tbody></table>

<p>Each error has additional fields to describe it :</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">code</code></td>
<td>The cloud.ca error code</td>
</tr>
<tr>
<td><code class="prettyprint">message</code></td>
<td>A human readable explanation of the error code</td>
</tr>
<tr>
<td><code class="prettyprint">context</code></td>
<td>Additional information</td>
</tr>
</tbody></table>

<p>The HTTP status codes of error responses :</p>

<table><thead>
<tr>
<th>Status code</th>
<th>Reason</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">200</code></td>
<td>The request was successful.</td>
</tr>
<tr>
<td><code class="prettyprint">204</code></td>
<td>The request was successful and the response body is empty</td>
</tr>
<tr>
<td><code class="prettyprint">400</code></td>
<td>Bad request &ndash; Occurs when invalid parameters are provided or when quota limit is exceeded.</td>
</tr>
<tr>
<td><code class="prettyprint">403</code></td>
<td>Forbidden &ndash; Not authorized to perform this request.</td>
</tr>
<tr>
<td><code class="prettyprint">404</code></td>
<td>Not Found &ndash; Cannot locate the specified endpoint.</td>
</tr>
<tr>
<td><code class="prettyprint">405</code></td>
<td>Method not allowed &ndash; Cannot use that HTTP verb on the specified endpoint.</td>
</tr>
<tr>
<td><code class="prettyprint">500</code></td>
<td>An unexpected error occurred.</td>
</tr>
</tbody></table>

<!--
## Paging & sorting
All `GET` endpoints returning a list of objects support pagination. The desired page of result is specified by providing the following HTTP query parameters:

Name | Description
------------------- | -----------
`page_number` | The page of data to retrieve
`page_size` | The number of items to display per page
`sort_by` | The field name to sort by
`sort_order` | The sort order (ASC or DESC)
-->

          <h1 id="administration-api">Administration API</h1>

<p>The following sections describe the various endpoints exposed by cloud.ca to manage customer&rsquo;s configuration and interact with various core functionality of the system. Using these, you can automate various workflows without having to log into the portal, or simply integrate different aspects of cloud.ca with your own toolchain.
<aside class="notice">
If you are not familiar with the cloud.ca API response structures, it would be valuable to read <a href="#responses">this</a> first.
</aside></p>

              <h2 id="service-connections">Service connections</h2>

<p>Service connections are the services that you can create resources for (e.g. compute, object storage). <a href="#environments">Environments</a> are created for a specific service which allows you to create and manage resources within that service.</p>

<!---- The service APIs are documented [here](#serviceApis) ---->

<!-------------------- LIST ORGANIZATIONS -------------------->

<h3 id="list-service-connections">List service connections</h3>

<p><code class="prettyprint">GET /services/connections</code></p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:[{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"adfbdb51-493b-45b1-8802-3f6327afb9e6"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"serviceCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"compute-qc"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Compute - Québec"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CloudCA"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IAAS"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">  
      </span><span class="nt">"lastUpdated"</span><span class="p">:</span><span class="w"> </span><span class="mi">1478897488000</span><span class="p">,</span><span class="w">
      </span><span class="nt">"reachable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight go"><code><span class="n">ccaClient</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">cca</span><span class="o">.</span><span class="n">NewCcaClient</span><span class="p">(</span><span class="s">"your_api_key"</span><span class="p">)</span><span class="x">
</span><span class="n">serviceConnection</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">ServiceConnections</span><span class="o">.</span><span class="n">List</span><span class="p">()</span><span class="x">
</span></code></pre>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code><br/><em>UUID</em></td>
<td>The id of the service connection</td>
</tr>
<tr>
<td><code class="prettyprint">serviceCode</code><br/><em>string</em></td>
<td>The service code of the service connection. It is used in the endpoint of the services API.</td>
</tr>
<tr>
<td><code class="prettyprint">name</code><br/><em>string</em></td>
<td>The name of the service connection</td>
</tr>
<tr>
<td><code class="prettyprint">type</code><br/><em>string</em></td>
<td>The type of the service connection.</td>
</tr>
<tr>
<td><code class="prettyprint">category</code><br/><em>string</em></td>
<td>The category of the service connection.</td>
</tr>
<tr>
<td><code class="prettyprint">status</code><br/><em>Object</em></td>
<td>Status of the service connection. Tells you if the service is up.<br/><em>includes</em>: <code class="prettyprint">lastUpdated</code>, <code class="prettyprint">reachable</code></td>
</tr>
</tbody></table>

<!-------------------- GET ORGANIZATION -------------------->

<h3 id="retrieve-a-service-connection">Retrieve a service connection</h3>

<p><code class="prettyprint">GET /services/connections/:id</code></p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:[{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"adfbdb51-493b-45b1-8802-3f6327afb9e6"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"serviceCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"compute-qc"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Compute - Québec"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CloudCA"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IAAS"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">  
      </span><span class="nt">"lastUpdated"</span><span class="p">:</span><span class="w"> </span><span class="mi">1478897488000</span><span class="p">,</span><span class="w">
      </span><span class="nt">"reachable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight go"><code><span class="n">ccaClient</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">cca</span><span class="o">.</span><span class="n">NewCcaClient</span><span class="p">(</span><span class="s">"your_api_key"</span><span class="p">)</span><span class="x">
</span><span class="n">serviceConnections</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">ServiceConnections</span><span class="o">.</span><span class="n">Get</span><span class="p">(</span><span class="s">"[service-connection-id]"</span><span class="p">)</span><span class="x">
</span></code></pre>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code><br/><em>UUID</em></td>
<td>The id of the service connection</td>
</tr>
<tr>
<td><code class="prettyprint">serviceCode</code><br/><em>string</em></td>
<td>The service code of the service connection. It is used in the endpoint of the services API.</td>
</tr>
<tr>
<td><code class="prettyprint">name</code><br/><em>string</em></td>
<td>The name of the service connection</td>
</tr>
<tr>
<td><code class="prettyprint">type</code><br/><em>string</em></td>
<td>The type of the service connection.</td>
</tr>
<tr>
<td><code class="prettyprint">category</code><br/><em>string</em></td>
<td>The category of the service connection.</td>
</tr>
<tr>
<td><code class="prettyprint">status</code><br/><em>Object</em></td>
<td>Status of the service connection. Tells you if the service is up.<br/><em>includes</em>: <code class="prettyprint">lastUpdated</code>, <code class="prettyprint">reachable</code></td>
</tr>
</tbody></table>

              <h2 id="organizations">Organizations</h2>

<p>Organizations are the largest logical grouping of users, environments and resources available in cloud.ca. Each organization is isolated from other organizations. It has its own subdomain (<code class="prettyprint">[entryPoint].cloud.ca</code>) and is protected by its own customizable system <a href="#roles">roles</a>. An administrator that must manage it&rsquo;s sub-organizations environments or provisioned resources can do so by having the <code class="prettyprint">Access other levels</code> permission. Additionally, provisioned resource usage is metered at the organization level facilitating cost tracking.</p>

<!-------------------- LIST ORGANIZATIONS -------------------->

<h3 id="list-organizations">List organizations</h3>

<p><code class="prettyprint">GET /organizations</code></p>

<p>Retrieves a list of organizations visible to the caller. In most cases, only the caller&rsquo;s organization will be returned. However if the caller&rsquo;s organization has sub-organizations, and the caller has the <code class="prettyprint">Access other levels</code> permission, the sub-organizations will be returned as well.</p>
<pre class="highlight go"><code><span class="c">// List organizations</span><span class="x">
</span><span class="n">ccaClient</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">cca</span><span class="o">.</span><span class="n">NewCcaClient</span><span class="p">(</span><span class="s">"your_api_key"</span><span class="p">)</span><span class="x">
</span><span class="n">organizations</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">Organizations</span><span class="o">.</span><span class="n">List</span><span class="p">()</span><span class="x">
</span></code></pre>
<pre class="highlight shell"><code><span class="c"># Retrieve visible organizations</span>
curl <span class="s2">"https://api.cloud.ca/v1/organizations"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span>

<span class="c"># Response body example</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"03bc22bd-adc4-46b8-988d-afddc24c0cb5"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Umbrella Corporation"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"entryPoint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"umbrella"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"parent"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8e3393ce-ee63-4f32-9e0f-7b0200fa655a"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Capcom"</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="nt">"environments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
               </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9df14056-51e2-4000-ab14-beeaa488500d"</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">],</span><span class="w">
         </span><span class="nt">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
               </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cdaaa9d0-304e-4063-b1ab-de31905bdab8"</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">],</span><span class="w">
         </span><span class="nt">"serviceConnections"</span><span class="p">:[</span><span class="w">
            </span><span class="p">{</span><span class="w">
               </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"11607a49-9691-40fe-8022-2e148bc0d720"</span><span class="p">,</span><span class="w">
               </span><span class="nt">"serviceCode"</span><span class="p">:</span><span class="s2">"compute-qc"</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">],</span><span class="w">
         </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
               </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"0c3ffcce-a98d-4159-b6fc-04edd34e89b7"</span><span class="p">,</span><span class="w">
               </span><span class="nt">"userName"</span><span class="p">:</span><span class="s2">"wbirkin"</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code><br/><em>UUID</em></td>
<td>&mdash;</td>
</tr>
<tr>
<td><code class="prettyprint">name</code><br/><em>string</em></td>
<td>&mdash;</td>
</tr>
<tr>
<td><code class="prettyprint">entryPoint</code><br/><em>string</em></td>
<td>The entry point of the organization is the subdomain of the organization in the cloud.ca URL : <code class="prettyprint">[entryPoint].cloud.ca</code></td>
</tr>
<tr>
<td><code class="prettyprint">parent</code><br/><em><a href="#organizations">Organization</a></em></td>
<td>If the organization is a sub-organization, it will have it&rsquo;s <code class="prettyprint">parent</code> organization. <em>includes</em>:<code class="prettyprint">id</code>,<code class="prettyprint">name</code></td>
</tr>
<tr>
<td><code class="prettyprint">environments</code><br/><em>Array[<a href="#environments">Environment</a>]</em></td>
<td>The environments belonging to the organization<br/><em>includes</em>: <code class="prettyprint">id</code></td>
</tr>
<tr>
<td><code class="prettyprint">roles</code><br/><em>Array[<a href="#roles">Role</a>]</em></td>
<td>The system and environments roles belonging to the organization<br/><em>includes</em>: <code class="prettyprint">id</code></td>
</tr>
<tr>
<td><code class="prettyprint">serviceConnections</code><br/><em>Array[<a href="#service-connections">ServiceConnection</a>]</em></td>
<td>The services for which the organization is allowed to provision resources<br/><em>includes</em>: <code class="prettyprint">id</code>,<code class="prettyprint">serviceCode</code></td>
</tr>
<tr>
<td><code class="prettyprint">users</code><br/><em>Array[<a href="#users">User</a>]</em></td>
<td>The users of the organization<br/><em>includes</em>: <code class="prettyprint">id</code></td>
</tr>
</tbody></table>

<!-------------------- FIND ORGANIZATION -------------------->

<h3 id="retrieve-an-organization">Retrieve an organization</h3>

<p><code class="prettyprint">GET /organizations/:id</code></p>

<p>Retrieve an organization&rsquo;s details</p>
<pre class="highlight shell"><code><span class="c"># Retrieve an organization</span>
curl <span class="s2">"https://api.cloud.ca/v1/organizations/[id]"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span>

<span class="c"># Response body example</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"03bc22bd-adc4-46b8-988d-afddc24c0cb5"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nintendo US"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"entryPoint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nintendo-us"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"parent"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8e3393ce-ee63-4f32-9e0f-7b0200fa655a"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nintendo"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"environments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
         </span><span class="p">{</span><span class="w">
           </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9df14056-51e2-4000-ab14-beeaa488500d"</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
         </span><span class="p">{</span><span class="w">
           </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cdaaa9d0-304e-4063-b1ab-de31905bdab8"</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"serviceConnections"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"11607a49-9691-40fe-8022-2e148bc0d720"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"serviceCode"</span><span class="p">:</span><span class="s2">"compute-qc"</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"0c3ffcce-a98d-4159-b6fc-04edd34e89b7"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"userName"</span><span class="p">:</span><span class="s2">"reggie"</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code><br/><em>UUID</em></td>
<td>&mdash;</td>
</tr>
<tr>
<td><code class="prettyprint">name</code><br/><em>string</em></td>
<td>&mdash;</td>
</tr>
<tr>
<td><code class="prettyprint">entryPoint</code><br/><em>string</em></td>
<td>The entry point of the organization is the subdomain of the organization in the cloud.ca URL :<br/><code class="prettyprint">[entryPoint].cloud.ca</code></td>
</tr>
<tr>
<td><code class="prettyprint">parent</code><br/><em><a href="#organizations">Organization</a></em></td>
<td>If the organization is a sub-organization, it will have it&rsquo;s <code class="prettyprint">parent</code> organization. <em>includes</em>:<code class="prettyprint">id</code>,<code class="prettyprint">name</code></td>
</tr>
<tr>
<td><code class="prettyprint">environments</code><br/><em>Array[<a href="#environments">Environment</a>]</em></td>
<td>The environments belonging to the organization<br/><em>includes</em>: <code class="prettyprint">id</code></td>
</tr>
<tr>
<td><code class="prettyprint">roles</code><br/><em>Array[<a href="#roles">Role</a>]</em></td>
<td>The system and environments roles belonging to the organization<br/><em>includes</em>: <code class="prettyprint">id</code></td>
</tr>
<tr>
<td><code class="prettyprint">serviceConnections</code><br/><em>Array[<a href="#service-connections">ServiceConnection</a>]</em></td>
<td>The services for which the organization is allowed to provision resources<br/><em>includes</em>: <code class="prettyprint">id</code>,<code class="prettyprint">serviceCode</code></td>
</tr>
<tr>
<td><code class="prettyprint">users</code><br/><em>Array[<a href="#users">User</a>]</em></td>
<td>The users of the organization<br/><em>includes</em>: <code class="prettyprint">id</code></td>
</tr>
</tbody></table>

<!-------------------- CREATE ORGANIZATION -------------------->

<h3 id="create-organization">Create organization</h3>

<p><code class="prettyprint">POST /organizations</code></p>

<p>Creates a new organization as a sub-organization of the caller&rsquo;s organization, or a sub-organization of the specified <code class="prettyprint">parent</code>. The caller requires the <code class="prettyprint">Organizations create</code> permission.</p>
<pre class="highlight shell"><code><span class="c"># Create an organization</span>
curl -X POST <span class="s2">"https://api.cloud.ca/v1/organizations"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -d <span class="s2">"[request_body]"</span>

<span class="c"># Request body example</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"entryPoint"</span><span class="p">:</span><span class="s2">"umbrella"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Umbrella Corp"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"serviceConnections"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"9acb3b76-d5d0-420c-b075-ef320b7e5a3e"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">],</span><span class="w">
   </span><span class="nt">"parent"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"bc0ceecf-feb5-412c-ab6e-a8df8eb7fbbd"</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Required</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code><br/><em>string</em></td>
<td>The name of the organization. (Add info about restrictions)</td>
</tr>
<tr>
<td><code class="prettyprint">entryPoint</code><br/><em>string</em></td>
<td>The entry point of the organization is the subdomain of the organization in the cloud.ca URL : <code class="prettyprint">[entryPoint].cloud.ca</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Optional</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">serviceConnections</code><br/>Array[<a href="#service-connections">ServiceConnection</a>]</td>
<td>A list of service connections for which the organization may provision resources.<br/><em>required :</em><code class="prettyprint">id</code></td>
</tr>
<tr>
<td><code class="prettyprint">parent</code><br/><a href="#organization">Organization</a></td>
<td>The organization that will be the parent of the new organization. By default, it will default to the caller&rsquo;s organization.<br/><em>required :</em><code class="prettyprint">id</code></td>
</tr>
</tbody></table>

<h5 id="returns">Returns</h5>

<p>The responses&rsquo; <code class="prettyprint">data</code> field contains the created <a href="#organizations">organization</a> with it&rsquo;s <code class="prettyprint">id</code>.</p>

<!-------------------- UPDATE ORGANIZATION -------------------->

<h3 id="update-organization">Update organization</h3>

<p><code class="prettyprint">PUT /organizations/:id</code></p>

<p>Update an organization. It&rsquo;s parent organization cannot be changed. It can be assigned service connections</p>
<pre class="highlight shell"><code><span class="c"># Update an organization</span>
curl -X PUT <span class="s2">"https://api.cloud.ca/v1/organizations/[id]"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -d <span class="s2">"[request_body]"</span>

<span class="c"># Request body example</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"entryPoint"</span><span class="p">:</span><span class="s2">"umbrella"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Umbrella Corp"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"serviceConnections"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"9acb3b76-d5d0-420c-b075-ef320b7e5a3e"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Required</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code><br/><em>string</em></td>
<td>The name of the organization. (Add info about restrictions)</td>
</tr>
<tr>
<td><code class="prettyprint">entryPoint</code><br/><em>string</em></td>
<td>The entry point of the organization is the subdomain of the organization in the cloud.ca URL : <code class="prettyprint">[entryPoint].cloud.ca</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Optional</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">serviceConnections</code><br/>Array[<a href="#service-connections">ServiceConnection</a>]</td>
<td>A list of service connections for which the organization may provision resources. The caller must have access to all connections that are provided. <strong>NB :</strong> Service connection access may be added but not revoked at this time.<br/><em>required :</em> <code class="prettyprint">id</code></td>
</tr>
</tbody></table>

<h4 id="returns">Returns</h4>

<p>The responses&rsquo; <code class="prettyprint">data</code> field contains the updated <a href="#organizations">organization</a>.</p>

<!-------------------- DELETE ORGANIZATION -------------------->

<h3 id="delete-organization">Delete organization</h3>

<p><code class="prettyprint">DELETE /organizations/:id</code></p>

<p>Delete an organization. The caller may not delete his own organization. Also, an organization may not be deleted if it has sub-organizations.</p>
<pre class="highlight shell"><code><span class="c"># Delete an organization</span>
curl -X DELETE <span class="s2">"https://api.cloud.ca/v1/organizations/[id]"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span>
</code></pre>

<h4 id="returns">Returns</h4>

<p>Returns an HTTP status code 204, with an empty response body.</p>

              <h2 id="users">Users</h2>

<p>A user account allows users to authenticate to an <a href="#organizations">organization</a> and to have access to the resources in it. You can restrict user access to the system and environments by assigning them specific <a href="#roles">roles</a>. Additionally, every user is given an API key which is needed to use our APIs. All operations done by users are persisted and can be accessed through the activity log.</p>

<!-------------------- LIST USERS -------------------->

<h3 id="list-users">List users</h3>

<p><code class="prettyprint">GET /users</code></p>
<pre class="highlight shell"><code><span class="c"># Retrieve visible users</span>

curl <span class="s2">"https://api.cloud.ca/v1/users"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span>

<span class="c"># Response body example</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:[{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e83540c7-75a0-4715-96dc-c10a364e0390"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"userName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"habsgoalie123"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Carey"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Price"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gohabsgo@cloud.ca"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"creationDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1476796926000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACTIVE"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8e3393ce-ee63-4f32-9e0f-7b0200fa655a"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Canadiens"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cdaaa9d0-304e-4063-b1ab-de31905bdab8"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"End-User"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fe6d2614-3c33-447c-96f2-c79f67f5fd19"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Environment Admin"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"environment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"afcafd98-0287-4139-bb77-f29ab0549eaa"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight go"><code><span class="n">ccaClient</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">cca</span><span class="o">.</span><span class="n">NewCcaClient</span><span class="p">(</span><span class="s">"your_api_key"</span><span class="p">)</span><span class="x">
</span><span class="n">users</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">Users</span><span class="o">.</span><span class="n">List</span><span class="p">()</span><span class="x">
</span></code></pre>

<p>Retrieve information about users you have access to. If you want access to other users in your <a href="#organizations">organization or sub-organizations</a>, you will need to be assigned the <code class="prettyprint">Users read</code> permission. Without this permission, you will only see your own user in the list.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code><br/><em>UUID</em></td>
<td>The id of the user</td>
</tr>
<tr>
<td><code class="prettyprint">userName</code><br/><em>string</em></td>
<td>The username of the user</td>
</tr>
<tr>
<td><code class="prettyprint">firstName</code><br/><em>string</em></td>
<td>The first name of the user</td>
</tr>
<tr>
<td><code class="prettyprint">lastName</code><br/><em>string</em></td>
<td>The last name of the user</td>
</tr>
<tr>
<td><code class="prettyprint">email</code><br/><em>string</em></td>
<td>The email of the user</td>
</tr>
<tr>
<td><code class="prettyprint">creationDate</code><br/><em>long</em></td>
<td>The date in <a href="https://en.wikipedia.org/wiki/Unix_time">unix time</a> that the user was created</td>
</tr>
<tr>
<td><code class="prettyprint">status</code><br/><em>string</em></td>
<td>The current status of the user.</td>
</tr>
<tr>
<td><code class="prettyprint">organization</code><br/><em><a href="#organization">Organization</a></em></td>
<td>The organization to which the user belongs</td>
</tr>
<tr>
<td><code class="prettyprint">roles</code><br/><em>Array[<a href="#roles">Role</a>]</em></td>
<td>The system and environments roles that are assigned to the user<br/><em>includes</em>: <code class="prettyprint">id</code>, <code class="prettyprint">name</code> and <code class="prettyprint">environment.id</code></td>
</tr>
</tbody></table>

<!-------------------- GET USER -------------------->

<h3 id="retrieve-a-user">Retrieve a user</h3>

<p><code class="prettyprint">GET /users/:id</code></p>
<pre class="highlight shell"><code><span class="c"># Retrieve visible user</span>

curl <span class="s2">"https://api.cloud.ca/v1/users/[user-id]"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span>

<span class="c"># Response body example</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fdf60a19-980d-4380-acab-914485111305"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"userName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"frodo"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Frodo"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Baggins"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"frodo@cloud.ca"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"creationDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1476796926000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACTIVE"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c64dcd1d-9123-45e5-ad00-5d635c49176b"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Shire"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"environments"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55724a36-4817-4cd3-927e-57d8a8b41eb8"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hobbiton"</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nt">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5f0a4f20-3537-4bcd-81fe-2b74fd4c07e0"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"End-User"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0b9159cd-81ac-48d1-be8a-7595a1617c94"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Read-Only"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"environment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55724a36-4817-4cd3-927e-57d8a8b41eb8"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight go"><code><span class="n">ccaClient</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">cca</span><span class="o">.</span><span class="n">NewCcaClient</span><span class="p">(</span><span class="s">"your_api_key"</span><span class="p">)</span><span class="x">
</span><span class="n">user</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">Users</span><span class="o">.</span><span class="n">Get</span><span class="p">(</span><span class="s">"[user-id]"</span><span class="p">)</span><span class="x">
</span></code></pre>

<p>Retrieve information about a specific user. If you want access to other users in your <a href="#organizations">organization or sub-organizations</a>, you will need to be assigned the <code class="prettyprint">Users Read</code> permission.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code><br/><em>UUID</em></td>
<td>The id of the user</td>
</tr>
<tr>
<td><code class="prettyprint">userName</code><br/><em>string</em></td>
<td>The username of the user</td>
</tr>
<tr>
<td><code class="prettyprint">firstName</code><br/><em>string</em></td>
<td>The first name of the user</td>
</tr>
<tr>
<td><code class="prettyprint">lastName</code><br/><em>string</em></td>
<td>The last name of the user</td>
</tr>
<tr>
<td><code class="prettyprint">email</code><br/><em>string</em></td>
<td>The email of the user</td>
</tr>
<tr>
<td><code class="prettyprint">creationDate</code><br/><em>long</em></td>
<td>The date in <a href="https://en.wikipedia.org/wiki/Unix_time">unix time</a> that the user was created</td>
</tr>
<tr>
<td><code class="prettyprint">status</code><br/><em>string</em></td>
<td>The current status of the user.</td>
</tr>
<tr>
<td><code class="prettyprint">organization</code><br/><em><a href="#organization">Organization</a></em></td>
<td>The organization to which the user belongs</td>
</tr>
<tr>
<td><code class="prettyprint">environments</code><br/><em>Array[<a href="#environments">Environment</a>]</em></td>
<td>The environments the user is member of<br/><em>includes</em>: <code class="prettyprint">id</code>, <code class="prettyprint">name</code></td>
</tr>
<tr>
<td><code class="prettyprint">roles</code><br/><em>Array[<a href="#roles">Role</a>]</em></td>
<td>The system and environments roles that are assigned to the user<br/><em>includes</em>: <code class="prettyprint">id</code>, <code class="prettyprint">name</code> and <code class="prettyprint">environment.id</code></td>
</tr>
</tbody></table>

<!-------------------- CREATE USER -------------------->

<h3 id="create-user">Create user</h3>

<p><code class="prettyprint">POST /users</code></p>
<pre class="highlight shell"><code><span class="c"># Create a user</span>

curl -X POST <span class="s2">"https://api.cloud.ca/v1/users"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -d <span class="s2">"[request-body]"</span>

<span class="c"># Request body example</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"userName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"vader42"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Anakin"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Skywalker"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"vader42@cloud.ca"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"645cf4ce-3699-40c5-a1a8-0b3e945f49ee"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dd01c908-371c-4ec5-9fd7-80b1bfac8975"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Create a user in a specific organization. There&rsquo;s two different types of <a href="#roles">role</a> you can assign to the user. A system role will determine the set of system permissions the user will have. An environment role will give the user access to an environment and will determine what he can see and do in that environment. You will need the <code class="prettyprint">Create a new user</code> permission to execute this operation.</p>

<table><thead>
<tr>
<th>Required</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">userName</code><br/><em>string</em></td>
<td>Username of the new user. Should be unique across the organization.</td>
</tr>
<tr>
<td><code class="prettyprint">firstName</code><br/><em>string</em></td>
<td>First name of the user</td>
</tr>
<tr>
<td><code class="prettyprint">lastName</code><br/><em>string</em></td>
<td>Last name of the user</td>
</tr>
<tr>
<td><code class="prettyprint">email</code><br/><em>string</em></td>
<td>Email of the user. Should be unique across the organization.</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Optional</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">organization</code></br><em><a href="#organization">Organization</a></em></td>
<td>Organization in which the user will be created. <em>Defaults to your organization</em><br/><em>required:</em> <code class="prettyprint">id</code></td>
</tr>
<tr>
<td><code class="prettyprint">roles</code><br/><em>Array[<a href="#roles">Role</a>]</em></td>
<td>The system and environment roles to give to the user<br/><em>required</em>: <code class="prettyprint">id</code></td>
</tr>
</tbody></table>

<h5 id="returns">Returns</h5>

<p>The responses&rsquo; <code class="prettyprint">data</code> field contains the created <a href="#users">user</a> with it&rsquo;s <code class="prettyprint">id</code>.</p>

<!-------------------- UPDATE USER -------------------->

<h3 id="update-user">Update user</h3>

<p><code class="prettyprint">PUT /users/:id</code></p>
<pre class="highlight shell"><code><span class="c"># Create a user</span>

curl -X PUT <span class="s2">"https://api.cloud.ca/v1/users/[user-id]"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -d <span class="s2">"[request-body]"</span>

<span class="c"># Request body example</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"userName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spidey1"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Peter"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Parker"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spidey1@cloud.ca"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dd01c908-371c-4ec5-9fd7-80b1bfac8975"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Update a specific user. It is important to note that updating the list of roles will override the previous one. You will the <code class="prettyprint">Users update</code> permission to execute this operation.</p>

<table><thead>
<tr>
<th>Optional</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">userName</code><br/><em>string</em></td>
<td>The new username of the user. Should be unique across the organization.</td>
</tr>
<tr>
<td><code class="prettyprint">firstName</code><br/><em>string</em></td>
<td>The new first name of the user</td>
</tr>
<tr>
<td><code class="prettyprint">lastName</code><br/><em>string</em></td>
<td>The new last name of the user</td>
</tr>
<tr>
<td><code class="prettyprint">email</code><br/><em>string</em></td>
<td>The new email of the user. Should be unique across the organization.</td>
</tr>
<tr>
<td><code class="prettyprint">roles</code><br/><em>Array[<a href="#roles">Role</a>]</em></td>
<td>The new list of system or environment roles to give to the user. This will override the previous list of roles.<br/><em>required</em>: <code class="prettyprint">id</code></td>
</tr>
</tbody></table>

<h5 id="returns">Returns</h5>

<p>The responses&rsquo; <code class="prettyprint">data</code> field contains the updated <a href="#users">user</a>.</p>

<!-------------------- DELETE USER -------------------->

<h3 id="delete-user">Delete user</h3>

<p><code class="prettyprint">DELETE /users/:id</code></p>
<pre class="highlight shell"><code><span class="c"># Delete a user</span>

curl <span class="s2">"https://api.cloud.ca/v1/users/[user-id]"</span> <span class="se">\</span>
   -X DELETE -H <span class="s2">"MC-Api-Key: your_api_key"</span>

</code></pre>

<p>Delete a specific user. You will need the <code class="prettyprint">Delete an existing user</code> permission to execute this operation.</p>

<!-------------------- UNLOCK USER -------------------->

<h3 id="unlock-user">Unlock user</h3>

<p><code class="prettyprint">POST /users/:id/unlock</code></p>
<pre class="highlight shell"><code><span class="c"># Unlock a user that was locked from the system</span>

curl <span class="s2">"https://api.cloud.ca/v1/users/[user-id]/unlock"</span> <span class="se">\</span>
   -X POST -H <span class="s2">"MC-Api-Key: your_api_key"</span>

</code></pre>

<p>A user with 10 consecutive unsuccessful logins will be automatically locked by our system. This API can be used to unlock a user in this situation. You will need the <code class="prettyprint">Unlock user</code> permission to execute this operation.</p>

              <h2 id="environments">Environments</h2>

<p>Environments allow you to manage resources of a specific service and to manage your <a href="#users">users&rsquo;</a> access to them. With <a href="#roles">environment roles</a>, you have tight control of what a user is allowed to do in your environment. A general use case of environments is to split your resources into different <a href="https://en.wikipedia.org/wiki/Deployment_environment">deployment environments</a> (e.g. dev, staging and production). The advantage is that resources of different deployments are isolated from each other and you can restrict user access to your most critical resources.</p>

<!-------------------- LIST ENVIRONMENTS -------------------->

<h3 id="list-environments">List environments</h3>

<p><code class="prettyprint">GET /environments</code></p>
<pre class="highlight shell"><code><span class="c"># Retrieve visible environments</span>
curl <span class="s2">"https://api.cloud.ca/v1/environments"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span>

<span class="c"># Response body example</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1ee5cd43-8395-4cd5-a20f-0f1e83b7f8bd"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cheyenne_mountain"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Environment for base at Cheyenne Mountain"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"membership"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MANY_USERS"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"creationDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1474986518000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a9f93785-0545-4876-8241-3b19b9a86721"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sg1"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"entryPoint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sg1"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"serviceConnection"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"adfbdb51-493b-45b1-8802-3f6327afb9e6"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Compute - Québec"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"951b768b-e91c-4d20-8b52-d4a2ab5a538a"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Environment Admin"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"isDefault"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9f84a6ce-7be1-4a08-a25b-edc6e57fb7e3"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jack_oneill"</span><span class="w">
      </span><span class="p">}]</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight go"><code><span class="n">ccaClient</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">cca</span><span class="o">.</span><span class="n">NewCcaClient</span><span class="p">(</span><span class="s">"your_api_key"</span><span class="p">)</span><span class="x">
</span><span class="n">environments</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">Environments</span><span class="o">.</span><span class="n">List</span><span class="p">()</span><span class="x">
</span></code></pre>

<p>List environments that you have access to. It will only return environments that you&rsquo;re member of if you&rsquo;re not assigned the <code class="prettyprint">Environments read</code> permission.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code><br/><em>UUID</em></td>
<td>The id of the environment</td>
</tr>
<tr>
<td><code class="prettyprint">name</code><br/><em>string</em></td>
<td>The name of the environment</td>
</tr>
<tr>
<td><code class="prettyprint">description</code><br/><em>string</em></td>
<td>The description of the environment</td>
</tr>
<tr>
<td><code class="prettyprint">membership</code><br/><em>string</em></td>
<td>Type of membership of the environment. (e.g. ALL_ORG_USERS, MANY_USERS)</td>
</tr>
<tr>
<td><code class="prettyprint">creationDate</code><br/><em>long</em></td>
<td>The date in <a href="https://en.wikipedia.org/wiki/Unix_time">unix time</a> that the environment was created</td>
</tr>
<tr>
<td><code class="prettyprint">organization</code><br/><em><a href="#organizations">Organization</a></em></td>
<td>The organization of the environment<br/><em>includes</em>: <code class="prettyprint">id</code>, <code class="prettyprint">name</code>, <code class="prettyprint">entryPoint</code></td>
</tr>
<tr>
<td><code class="prettyprint">serviceConnection</code><br/><em><a href="#service-connections">ServiceConnection</a></em></td>
<td>The service connection of the environment<br/><em>includes</em>: <code class="prettyprint">id</code>, <code class="prettyprint">name</code></td>
</tr>
<tr>
<td><code class="prettyprint">roles</code><br/><em>Array[<a href="#roles">Role</a>]</em></td>
<td>The roles of the environment with all the users assigned to them.<br/><em>includes</em>: <code class="prettyprint">id</code>, <code class="prettyprint">name</code>, <code class="prettyprint">isDefault</code>, <code class="prettyprint">users.id</code>, <code class="prettyprint">users.name</code></td>
</tr>
</tbody></table>

<!-------------------- GET ENVIRONMENT -------------------->

<h3 id="retrieve-an-environment">Retrieve an environment</h3>

<p><code class="prettyprint">GET /environments/:id</code></p>
<pre class="highlight shell"><code><span class="c"># Retrieve visible environment</span>

curl <span class="s2">"https://api.cloud.ca/v1/environment/[environment-id]"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span>

<span class="c"># Response body example</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"487a2745-bb8a-44bc-adb1-e3b048f6def2"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"galactica"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Environment for the Galactica"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"membership"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MANY_USERS"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"creationDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1474986518000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a3340a89-8f60-407d-8a49-f5cfe81eef8f"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"kobol"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"entryPoint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"kobol"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"serviceConnection"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"adfbdb51-493b-45b1-8802-3f6327afb9e6"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Compute - Québec"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6e84ab70-4c62-4db1-bbd8-343636a34647"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"userName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"starbuck"</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nt">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b04b8a7c-6e89-4dba-9734-74d9f1b7be04"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Environment Admin"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"isDefault"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6e84ab70-4c62-4db1-bbd8-343636a34647"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"starbuck"</span><span class="w">
      </span><span class="p">}]</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight go"><code><span class="n">ccaClient</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">cca</span><span class="o">.</span><span class="n">NewCcaClient</span><span class="p">(</span><span class="s">"your_api_key"</span><span class="p">)</span><span class="x">
</span><span class="n">environment</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">Environments</span><span class="o">.</span><span class="n">Get</span><span class="p">(</span><span class="s">"[environment-id]"</span><span class="p">)</span><span class="x">
</span></code></pre>

<p>Retrieve an environment you have access to. You can always retrieve environments that you&rsquo;re member of but to access other environments you will need the <code class="prettyprint">Environments read</code> permission.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code><br/><em>UUID</em></td>
<td>The id of the environment</td>
</tr>
<tr>
<td><code class="prettyprint">name</code><br/><em>string</em></td>
<td>The name of the environment</td>
</tr>
<tr>
<td><code class="prettyprint">description</code><br/><em>string</em></td>
<td>The description of the environment</td>
</tr>
<tr>
<td><code class="prettyprint">membership</code><br/><em>string</em></td>
<td>Type of membership of the environment. (e.g. ALL_ORG_USERS, MANY_USERS)</td>
</tr>
<tr>
<td><code class="prettyprint">creationDate</code><br/><em>long</em></td>
<td>The date in <a href="https://en.wikipedia.org/wiki/Unix_time">unix time</a> that the environment was created</td>
</tr>
<tr>
<td><code class="prettyprint">organization</code><br/><em><a href="#organizations">Organization</a></em></td>
<td>The organization of the environment<br/><em>includes</em>: <code class="prettyprint">id</code>, <code class="prettyprint">name</code>, <code class="prettyprint">entryPoint</code></td>
</tr>
<tr>
<td><code class="prettyprint">serviceConnection</code><br/><em><a href="#service-connections">ServiceConnection</a></em></td>
<td>The service connection of the environment<br/><em>includes</em>: <code class="prettyprint">id</code>, <code class="prettyprint">name</code></td>
</tr>
<tr>
<td><code class="prettyprint">users</code><br/><em>Array[<a href="#users">User</a>]</em></td>
<td>The users that are members of the environment<br/><em>includes</em>: <code class="prettyprint">id</code>, <code class="prettyprint">username</code></td>
</tr>
<tr>
<td><code class="prettyprint">roles</code><br/><em>Array[<a href="#roles">Role</a>]</em></td>
<td>The roles of the environment with all the users assigned to them.<br/><em>includes</em>: <code class="prettyprint">id</code>, <code class="prettyprint">name</code>, <code class="prettyprint">isDefault</code>, <code class="prettyprint">users.id</code>, <code class="prettyprint">users.name</code></td>
</tr>
</tbody></table>

<!-------------------- CREATE ENVIRONMENT -------------------->

<h3 id="create-environment">Create environment</h3>

<p><code class="prettyprint">POST /environments</code></p>
<pre class="highlight shell"><code><span class="c"># Create an environment</span>

curl -X POST <span class="s2">"https://api.cloud.ca/v1/environments"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -d <span class="s2">"[request_body]"</span>

<span class="c"># Request body example</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"glados"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Environment property of Aperture Science"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"membership"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MANY_USERS"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2fd60d6f-1fee-4fe5-8ec6-46d8776acc6f"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"serviceConnection"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7f0fa906-490a-467b-bc44-e2382d43015e"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Environment Admin"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"isDefault"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"73b17dab-1705-45f1-84e2-997e2af5641b"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight go"><code><span class="n">ccaClient</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">cca</span><span class="o">.</span><span class="n">NewCcaClient</span><span class="p">(</span><span class="s">"your_api_key"</span><span class="p">)</span><span class="x">
</span><span class="n">environment</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">Environments</span><span class="o">.</span><span class="n">Create</span><span class="p">(</span><span class="n">configuration</span><span class="o">.</span><span class="n">Environment</span><span class="p">{</span><span class="x">
  </span><span class="n">Name</span><span class="o">:</span><span class="x"> </span><span class="s">"[environment-name]"</span><span class="p">,</span><span class="x">
  </span><span class="n">Description</span><span class="o">:</span><span class="x"> </span><span class="s">"[environment-description]"</span><span class="p">,</span><span class="x">
  </span><span class="n">ServiceConnection</span><span class="o">:</span><span class="x"> </span><span class="n">configuration</span><span class="o">.</span><span class="n">ServiceConnection</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">Id</span><span class="o">:</span><span class="x"> </span><span class="s">"[service-connection-id]"</span><span class="p">,</span><span class="x">
  </span><span class="p">},</span><span class="x">
  </span><span class="n">Organization</span><span class="o">:</span><span class="x"> </span><span class="n">configuration</span><span class="o">.</span><span class="n">Organization</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">Id</span><span class="o">:</span><span class="x"> </span><span class="s">"[organization-id]"</span><span class="p">,</span><span class="x">
  </span><span class="p">},</span><span class="x">
  </span><span class="n">Roles</span><span class="o">:</span><span class="x"> </span><span class="p">[</span><span class="n">configuration</span><span class="o">.</span><span class="n">Role</span><span class="p">{</span><span class="x">
    </span><span class="n">Id</span><span class="o">:</span><span class="x"> </span><span class="s">"[role-id]"</span><span class="p">,</span><span class="x">
    </span><span class="n">Users</span><span class="o">:</span><span class="x"> </span><span class="p">[</span><span class="n">configuration</span><span class="o">.</span><span class="n">User</span><span class="p">{</span><span class="x">
      </span><span class="n">Id</span><span class="o">:</span><span class="x"> </span><span class="s">"[user-id]"</span><span class="p">,</span><span class="x">
    </span><span class="p">}],</span><span class="x">
  </span><span class="p">}],</span><span class="x">
</span><span class="p">})</span><span class="x">
</span></code></pre>
<pre class="highlight dart"><code><span class="n">resource</span> <span class="s">"cloudca_environment"</span> <span class="s">"my_environment"</span> <span class="o">{</span>
    <span class="n">service_code</span> <span class="o">=</span> <span class="s">"compute-qc"</span>
    <span class="n">organization_code</span> <span class="o">=</span> <span class="s">"kamar-taj"</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s">"production"</span>
    <span class="n">description</span> <span class="o">=</span> <span class="s">"Environment for production workloads"</span>
    <span class="n">admin_role</span> <span class="o">=</span> <span class="o">[</span><span class="s">"pat"</span><span class="o">]</span>
    <span class="n">read_only_role</span> <span class="o">=</span> <span class="o">[</span><span class="s">"dr_strange"</span><span class="o">,</span><span class="s">"ancient_one"</span><span class="o">]</span>
<span class="o">}</span>
</code></pre>

<p>Create a new environment in a specific service and organization. You will need the <code class="prettyprint">Environments create</code> permission to execute this operation.</p>

<table><thead>
<tr>
<th>Required</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code><br/><em>string</em></td>
<td>The name of the new environment. Should be unique in the environment and only contain lower case characters, numbers, dashes and underscores.</td>
</tr>
<tr>
<td><code class="prettyprint">description</code><br/><em>string</em></td>
<td>The description of the new environment.</td>
</tr>
<tr>
<td><code class="prettyprint">serviceConnection</code><br/><em><a href="#service-connections">ServiceConnection</a></em></td>
<td>The service connection that the environment should be created in<br/><em>required</em>: <code class="prettyprint">id</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Optional</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">organization</code><br/><em><a href="#organizations">Organization</a></em></td>
<td>The organization that the environment should be created in. <em>Defaults to your organization</em><br/><em>required</em>: <code class="prettyprint">id</code></td>
</tr>
<tr>
<td><code class="prettyprint">membership</code><br/><em>string</em></td>
<td>Type of membership of the environment. ALL_ORG_USERS will add every user in the organization to this environment with the default role. MANY_USERS will allow you to  choose the users you want in the environment and assigned them specific roles. <em>Defaults to MANY_USERS</em></td>
</tr>
<tr>
<td><code class="prettyprint">roles</code><br/><em>Array[<a href="#roles">Role</a>]</em></td>
<td>The roles of the environment and the users assigned to them. Also, defines the default role of the environment.<br/><em>required</em>: <code class="prettyprint">name</code>, <code class="prettyprint">users.id</code><br/><em>optional</em>: <code class="prettyprint">isDefault</code></td>
</tr>
</tbody></table>

<h5 id="returns">Returns</h5>

<p>The responses&rsquo; <code class="prettyprint">data</code> field contains the updated <a href="#environments">environment</a>.</p>

<!-------------------- UPDATE ENVIRONMENT -------------------->

<h3 id="update-environment">Update environment</h3>

<p><code class="prettyprint">PUT /environments/:id</code></p>
<pre class="highlight shell"><code><span class="c"># Update an environment</span>
curl -X POST <span class="s2">"https://api.cloud.ca/v1/environments/[environment-id]"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -d <span class="s2">"[request_body]"</span>

<span class="c"># Request body example</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"skynet-beta"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Environment for the Skynet project"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f9dea588-d7ab-4f42-b6e6-4b85f273f3db"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"07e02355-d05b-47cf-860d-f69cf0432276"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight go"><code><span class="n">ccaClient</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">cca</span><span class="o">.</span><span class="n">NewCcaClient</span><span class="p">(</span><span class="s">"your_api_key"</span><span class="p">)</span><span class="x">
</span><span class="n">environment</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">Environments</span><span class="o">.</span><span class="n">Update</span><span class="p">(</span><span class="n">configuration</span><span class="o">.</span><span class="n">Environment</span><span class="p">{</span><span class="x">
  </span><span class="n">Name</span><span class="o">:</span><span class="x"> </span><span class="s">"[environment-name]"</span><span class="p">,</span><span class="x">
  </span><span class="n">Description</span><span class="o">:</span><span class="x"> </span><span class="s">"[environment-description]"</span><span class="p">,</span><span class="x">
  </span><span class="n">Roles</span><span class="o">:</span><span class="x"> </span><span class="p">[</span><span class="n">configuration</span><span class="o">.</span><span class="n">Role</span><span class="p">{</span><span class="x">
    </span><span class="n">Id</span><span class="o">:</span><span class="x"> </span><span class="s">"[role-id]"</span><span class="p">,</span><span class="x">
    </span><span class="n">Users</span><span class="o">:</span><span class="x"> </span><span class="p">[</span><span class="n">configuration</span><span class="o">.</span><span class="n">User</span><span class="p">{</span><span class="x">
      </span><span class="n">Id</span><span class="o">:</span><span class="x"> </span><span class="s">"[user-id]"</span><span class="p">,</span><span class="x">
    </span><span class="p">}],</span><span class="x">
  </span><span class="p">}],</span><span class="x">
</span><span class="p">})</span><span class="x">
</span></code></pre>

<table><thead>
<tr>
<th>Optional</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code><br/><em>string</em></td>
<td>The updated name of the environment. Should be unique in the environment and only contain lower case characters, numbers, dashes and underscores.</td>
</tr>
<tr>
<td><code class="prettyprint">description</code><br/><em>string</em></td>
<td>The updated description of the environment</td>
</tr>
<tr>
<td><code class="prettyprint">membership</code><br/><em>string</em></td>
<td>Type of membership of the environment. ALL_ORG_USERS will add every user in the organization to this environment with the default role. MANY_USERS will allow you to  choose the users you want in the environment and assigned them specific roles. <em>Defaults to MANY_USERS</em></td>
</tr>
<tr>
<td><code class="prettyprint">roles</code><br/><em>Array[<a href="#roles">Role</a>]</em></td>
<td>Update the users roles in the environment. Also, can also update the default role.<br/><em>required</em>: <code class="prettyprint">name</code>, <code class="prettyprint">users.id</code><br/><em>optional</em>: <code class="prettyprint">isDefault</code></td>
</tr>
</tbody></table>

<p>You will need the <code class="prettyprint">Environments update</code> permission to execute this operation.</p>

<!-------------------- DELETE ENVIRONMENT -------------------->

<h3 id="delete-environment">Delete environment</h3>

<p><code class="prettyprint">DELETE /environments/:id</code></p>
<pre class="highlight shell"><code><span class="c"># Delete an environment</span>

curl <span class="s2">"https://api.cloud.ca/v1/environments/[environment-id]"</span> <span class="se">\</span>
   -X DELETE -H <span class="s2">"MC-Api-Key: your_api_key"</span>

</code></pre>
<pre class="highlight go"><code><span class="n">ccaClient</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">cca</span><span class="o">.</span><span class="n">NewCcaClient</span><span class="p">(</span><span class="s">"your_api_key"</span><span class="p">)</span><span class="x">
</span><span class="n">deleted</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">Environments</span><span class="o">.</span><span class="n">Delete</span><span class="p">(</span><span class="s">"[environment-id]"</span><span class="p">)</span><span class="x">
</span></code></pre>

<p>Delete a specific environment. You will need a <a href="#roles">role</a> with the <code class="prettyprint">Delete an existing environment</code> permission to execute this operation.</p>

<aside class="warning">
  <strong>Be careful:</strong> This will destroy all the resources in your environment.
</aside>

          <h1 id="compute-api">Compute API</h1>

<p>The compute API provides endpoints for carrying out operations on cloud.ca compute and networking entities. While each operation has its own validation and required fields, all operations need to specify the service code and environment in which they should be carried out. The following example URL describes how to specify this information for all entities.</p>

<p><code>https://api.cloud.ca/v1/services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/:entity_type</code></p>

<p>The two compute service codes currently available in cloud.ca correspond to compute regions: <code class="prettyprint">compute-qc</code> for Québec, and <code class="prettyprint">compute-on</code> for Ontario.</p>

<aside class="notice">
An easy way to remember the structure of API endpoints is that going from left to right, the scope gets progressively more specific. First service, then environment of that service, then entity type, then operation on that entity type, etc.
</aside>

<h2 id="working-with-sub-organizations">Working with sub-organizations</h2>

<p><em>If you don&rsquo;t know what a sub-organization is, you can safely skip this section.</em></p>

<p>When carrying out an operation in an organization other than your own, make sure to specify the <code class="prettyprint">org_id</code> query parameter in your request, like so</p>

<p><code>https://api.cloud.ca/v1/services/:service_code/:environment_name/:entity_type/:operation?<strong>org_id=:org_id</strong></code></p>

<h2 id="tasks">Tasks</h2>
<pre class="highlight shell"><code><span class="c"># The above command returns JSON structured like this:</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"taskId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b2f82e2a-123e-4f86-a4c7-dc9b850dd11e"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"taskStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PENDING"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Some operations take longer to execute, and to avoid blocking on the response until it is fully completed, these are treated in an asynchronous fashion. This means the API will return immediately, and provide you a <code class="prettyprint">taskId</code> that is your reference to the ongoing background task. Using the tasks API, you can query the task&rsquo;s status to find if it has completed and obtain the result of the operation.</p>

<h3 id="retrieve-a-task">Retrieve a task</h3>
<pre class="highlight shell"><code><span class="c"># Example of success response</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"taskId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b2f82e2a-123e-4f86-a4c7-dc9b850dd11e"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"taskStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8f064230-82a6-4f93-a17d-9cf9623b0cb5"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"morty"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><code class="prettyprint">GET https://api.cloud.ca/v1/tasks/:id</code></p>

<p>A task has three different status: <code class="prettyprint">PENDING</code>, <code class="prettyprint">FAILED</code> and <code class="prettyprint">SUCCESS</code>. On a successful completion of the task (i.e. it&rsquo;s in the <code class="prettyprint">SUCCESS</code> state), the response will contain a <code class="prettyprint">result</code> field which will contain the result of the operation. It is important to note that we don&rsquo;t persist our task, a task will only stay alive for 30 minutes (in general).</p>

              <h2 id="compute">Compute</h2>

              <h3 id="instances">Instances</h3>

<p>Deploy and manage your instances.</p>

<!-------------------- LIST INSTANCES -------------------->

<h4 id="list-instances">List instances</h4>
<pre class="highlight shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/instances"</span>

<span class="c"># The above command returns JSON structured like this:</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9db8ff2f-b49b-466d-a2f3-c1e6def408f4"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_instance"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Running"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"zoneId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04afdbd1-e32d-4999-86d0-96703736dded"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"zoneName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QC-1"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"templateId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5f968ad6-56d0-4d0d-ad7e-f8f4a5b5d986"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"templateName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CentOS 6.8 PV"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"computeOfferingId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3caab5ed-b5a2-4d8a-82e4-51c46168ee6c"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"computeOfferingName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1vCPU.512MB"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"networkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d5a68379-a9ee-404f-9492-a1964b374d6f"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"networkName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Web-test_area"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"vpcId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9eb1592c-f92f-4ddd-9799-b58caf896328"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"vpcName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prod-VPC"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"ipAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.164.212.68"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"isPasswordEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"macAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"02:00:2b:67:00:30"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"cpuCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"memoryInMB"</span><span class="p">:</span><span class="w"> </span><span class="mi">512</span><span class="p">,</span><span class="w">
      </span><span class="nt">"hostname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_instance"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cca-user"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"affinityGroupIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">instances</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">Instances</span><span class="o">.</span><span class="n">List</span><span class="p">()</span><span class="x">
</span></code></pre>

<p><code>GET /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/instances</code></p>

<p>Retrieve a list of all instances in a given <a href="#environments">environment</a></p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code><br/><em>UUID</em></td>
<td>The id of the instance</td>
</tr>
<tr>
<td><code class="prettyprint">name</code><br/><em>string</em></td>
<td>The display name of the instance</td>
</tr>
<tr>
<td><code class="prettyprint">state</code><br/><em>string</em></td>
<td>The current state of the instance</td>
</tr>
<tr>
<td><code class="prettyprint">templateId</code><br/><em>UUID</em></td>
<td>The <a href="#templates">template</a> id of the instance</td>
</tr>
<tr>
<td><code class="prettyprint">templateName</code><br/><em>string</em></td>
<td>The <a href="#templates">template</a> name of the instance</td>
</tr>
<tr>
<td><code class="prettyprint">computeOfferingId</code><br/><em>UUID</em></td>
<td>The <a href="#compute-offerings">compute offering</a> id of the instance</td>
</tr>
<tr>
<td><code class="prettyprint">computeOfferingName</code><br/><em>string</em></td>
<td>The <a href="#compute-offerings">compute offering</a> name of the instance</td>
</tr>
<tr>
<td><code class="prettyprint">cpuCount</code><br/><em>int</em></td>
<td>The number of vCPUs associated with the instance&rsquo;s <a href="#compute-offerings">compute offering</a></td>
</tr>
<tr>
<td><code class="prettyprint">memoryInMB</code><br/><em>int</em></td>
<td>The number of megabytes associated with the instance&rsquo;s <a href="#compute-offerings">compute offering</a></td>
</tr>
<tr>
<td><code class="prettyprint">networkId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#tiers">tier</a> where instance is deployed</td>
</tr>
<tr>
<td><code class="prettyprint">networkName</code><br/><em>string</em></td>
<td>The name of the <a href="#tiers">tier</a> where instance is deployed</td>
</tr>
<tr>
<td><code class="prettyprint">hostname</code><br/><em>string</em></td>
<td>The host name of the instance</td>
</tr>
<tr>
<td><code class="prettyprint">username</code><br/><em>string</em></td>
<td>The username that can be used to connect to the instance</td>
</tr>
<tr>
<td><code class="prettyprint">affinityGroupIds</code><br/><em>Array[UUID]</em></td>
<td>The id(s) of the <a href="#affinity-groups">affinity groups</a> to which the instance is associated.</td>
</tr>
<tr>
<td><code class="prettyprint">zoneId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#zones">zone</a> where instance is deployed</td>
</tr>
<tr>
<td><code class="prettyprint">zoneName</code><br/><em>string</em></td>
<td>The name of associated <a href="#zones">zone</a></td>
</tr>
<tr>
<td><code class="prettyprint">vpcId</code><br/><em>UUID</em></td>
<td>The id of the associated <a href="#vpcs">VPC</a></td>
</tr>
<tr>
<td><code class="prettyprint">vpcName</code><br/><em>string</em></td>
<td>The name of associated <a href="#vpcs">VPC</a></td>
</tr>
<tr>
<td><code class="prettyprint">ipAddress</code><br/><em>string</em></td>
<td>The instance&rsquo;s private IPv4 address</td>
</tr>
<tr>
<td><code class="prettyprint">isPasswordEnabled</code><br/><em>boolean</em></td>
<td>Indicate whether a password can be used for remote connections</td>
</tr>
<tr>
<td><code class="prettyprint">macAddress</code><br/><em>string</em></td>
<td>The instance&rsquo;s MAC address</td>
</tr>
</tbody></table>

<!-------------------- RETRIEVE AN INSTANCE -------------------->

<h4 id="retrieve-an-instance">Retrieve an instance</h4>
<pre class="highlight shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/instances/5951c2b8-e901-4c01-8ae0-cb8d7c508d29"</span>


<span class="c"># The above command returns JSON structured like this:</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9db8ff2f-b49b-466d-a2f3-c1e6def408f4"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"backup_instance"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Running"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"zoneId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04afdbd1-e32d-4999-86d0-96703736dded"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"zoneName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QC-1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"templateId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5f968ad6-56d0-4d0d-ad7e-f8f4a5b5d986"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"templateName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CentOS 6.8 PV"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"computeOfferingId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3caab5ed-b5a2-4d8a-82e4-51c46168ee6c"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"computeOfferingName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1vCPU.512MB"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"networkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d5a68379-a9ee-404f-9492-a1964b374d6f"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"networkName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Web-test_area"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"vpcId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9eb1592c-f92f-4ddd-9799-b58caf896328"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"vpcName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prod-VPC"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ipAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.164.212.68"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"isPasswordEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"macAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"02:00:2b:67:00:30"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cpuCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"memoryInMB"</span><span class="p">:</span><span class="w"> </span><span class="mi">512</span><span class="p">,</span><span class="w">
    </span><span class="nt">"hostname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"backup_instance"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cca-user"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"affinityGroupIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nt">"userData"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"publicIps"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7a204b7f-1039-4867-8971-c1e4f778ef33"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"ipAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"199.215.226.46"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"purposes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"PORT_FORWARDING"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"ports"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"22"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nt">"nics"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f401d989-b149-4870-99f3-1991fec31454"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"isDefault"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"networkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d5a68379-a9ee-404f-9492-a1964b374d6f"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">instance</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">Instances</span><span class="o">.</span><span class="n">Get</span><span class="p">(</span><span class="s">"9db8ff2f-b49b-466d-a2f3-c1e6def408f4"</span><span class="p">)</span><span class="x">
</span></code></pre>

<p><code>GET /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/instances/:id</code></p>

<p>Retrieve information about a specific instance.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code><br/><em>UUID</em></td>
<td>The id of the instance</td>
</tr>
<tr>
<td><code class="prettyprint">name</code><br/><em>string</em></td>
<td>The display name of the instance</td>
</tr>
<tr>
<td><code class="prettyprint">state</code><br/><em>string</em></td>
<td>The current state of the instance</td>
</tr>
<tr>
<td><code class="prettyprint">templateId</code><br/><em>UUID</em></td>
<td>The <a href="#templates">template</a> id of the instance</td>
</tr>
<tr>
<td><code class="prettyprint">templateName</code><br/><em>string</em></td>
<td>The <a href="#templates">template</a> name of the instance</td>
</tr>
<tr>
<td><code class="prettyprint">computeOfferingId</code><br/><em>UUID</em></td>
<td>The <a href="#compute-offerings">compute offering</a> id of the instance</td>
</tr>
<tr>
<td><code class="prettyprint">computeOfferingName</code><br/><em>string</em></td>
<td>The <a href="#compute-offerings">compute offering</a> name of the instance</td>
</tr>
<tr>
<td><code class="prettyprint">cpuCount</code><br/><em>int</em></td>
<td>The number of vCPUs associated with the instance&rsquo;s <a href="#compute-offerings">compute offering</a></td>
</tr>
<tr>
<td><code class="prettyprint">memoryInMB</code><br/><em>int</em></td>
<td>The number of megabytes associated with the instance&rsquo;s <a href="#compute-offerings">compute offering</a></td>
</tr>
<tr>
<td><code class="prettyprint">networkId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#tiers">tier</a> where instance is deployed</td>
</tr>
<tr>
<td><code class="prettyprint">networkName</code><br/><em>string</em></td>
<td>The name of the <a href="#tiers">tier</a> where instance is deployed</td>
</tr>
<tr>
<td><code class="prettyprint">hostname</code><br/><em>string</em></td>
<td>The host name of the instance</td>
</tr>
<tr>
<td><code class="prettyprint">username</code><br/><em>string</em></td>
<td>The username that can be used to connect to the instance</td>
</tr>
<tr>
<td><code class="prettyprint">affinityGroupIds</code><br/><em>Array[UUID]</em></td>
<td>The id(s) of the <a href="#affinity-groups">affinity groups</a> to which the instance is associated.</td>
</tr>
<tr>
<td><code class="prettyprint">zoneId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#zones">zone</a> where instance is deployed</td>
</tr>
<tr>
<td><code class="prettyprint">zoneName</code><br/><em>string</em></td>
<td>The name of associated <a href="#zones">zone</a></td>
</tr>
<tr>
<td><code class="prettyprint">vpcId</code><br/><em>UUID</em></td>
<td>The id of the associated <a href="#vpcs">VPC</a></td>
</tr>
<tr>
<td><code class="prettyprint">vpcName</code><br/><em>string</em></td>
<td>The name of associated <a href="#vpcs">VPC</a></td>
</tr>
<tr>
<td><code class="prettyprint">ipAddress</code><br/><em>string</em></td>
<td>The instance&rsquo;s private IPv4 address</td>
</tr>
<tr>
<td><code class="prettyprint">isPasswordEnabled</code><br/><em>boolean</em></td>
<td>Indicate whether a password can be used for remote connections</td>
</tr>
<tr>
<td><code class="prettyprint">macAddress</code><br/><em>string</em></td>
<td>The instance&rsquo;s MAC address</td>
</tr>
<tr>
<td><code class="prettyprint">userData</code><br/><em>string</em></td>
<td>The user data of the instance</td>
</tr>
<tr>
<td><code class="prettyprint">publicIps</code><br/><em>Array[<a href="#public-ips">PublicIp</a>]</em></td>
<td>The public IP addresses associated to the instance<br/><em>includes:</em> <code class="prettyprint">id</code>, <code class="prettyprint">purposes</code>, <code class="prettyprint">ipAddress</code>, <code class="prettyprint">ports</code></td>
</tr>
<tr>
<td><code class="prettyprint">nics</code><br/><em>Array[<a href="#nics">NIC</a>]</em></td>
<td>The NICs of the instance<br/><em>includes:</em> <code class="prettyprint">id</code>, <code class="prettyprint">isDefault</code>, <code class="prettyprint">networkId</code></td>
</tr>
</tbody></table>

<!-------------------- CREATE AN INSTANCE -------------------->

<h4 id="create-an-instance">Create an instance</h4>
<pre class="highlight shell"><code>
<span class="c"># Here is the absolute minimum information required to create a new instance:</span>

curl -X POST <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -d <span class="s2">"request_body"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/instances"</span>

<span class="c"># Request should look like this</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jarvis"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"templateId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5f968ad6-56d0-4d0d-ad7e-f8f4a5b5d986"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"computeOfferingId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3caab5ed-b5a2-4d8a-82e4-51c46168ee6c"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"networkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55ccea7f-8286-479e-a648-dd4a45866daf"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"diskOfferingId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f16f7f1b-462d-47b9-97bb-25a19e47a648"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"additionalDiskSizeInGb"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
   </span><span class="nt">"additionalDiskIops"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
   </span><span class="nt">"sshKeyName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mysshkey"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"volumeIdToAttach"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2478012b-3cf3-4eef-a8d6-85eb8599df6d"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"affinityGroupId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1c0bfd2b-d609-4892-a43e-273654532d26"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"portsToForward"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"80"</span><span class="p">,</span><span class="w"> </span><span class="s2">"9999"</span><span class="p">],</span><span class="w">
   </span><span class="nt">"userData"</span><span class="p">:</span><span class="w"> </span><span class="s2">"#!/bin/bash\necho 'hello world'"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">createdInstance</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">Instances</span><span class="o">.</span><span class="n">Create</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Instance</span><span class="p">{</span><span class="x">
        </span><span class="n">Name</span><span class="o">:</span><span class="x"> </span><span class="s">"jarvis"</span><span class="p">,</span><span class="x">
        </span><span class="n">TemplateId</span><span class="o">:</span><span class="x"> </span><span class="s">"5f968ad6-56d0-4d0d-ad7e-f8f4a5b5d986"</span><span class="p">,</span><span class="x">
        </span><span class="n">ComputeOfferingId</span><span class="o">:</span><span class="s">"3caab5ed-b5a2-4d8a-82e4-51c46168ee6c"</span><span class="p">,</span><span class="x">
        </span><span class="n">NetworkId</span><span class="o">:</span><span class="s">"55ccea7f-8286-479e-a648-dd4a45866daf"</span><span class="p">,</span><span class="x">
    </span><span class="p">})</span><span class="x">
</span></code></pre>
<pre class="highlight dart"><code><span class="n">resource</span> <span class="s">"cloudca_instance"</span> <span class="s">"my_instance"</span> <span class="o">{</span>
    <span class="n">service_code</span> <span class="o">=</span> <span class="s">"compute-on"</span>
    <span class="n">environment_name</span> <span class="o">=</span> <span class="s">"test_area"</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s">"jarvis"</span>
    <span class="n">network_id</span> <span class="o">=</span> <span class="s">"55ccea7f-8286-479e-a648-dd4a45866daf"</span>
    <span class="n">template</span> <span class="o">=</span> <span class="s">"CentOS 6.8 PV"</span>
    <span class="n">compute_offering</span> <span class="o">=</span> <span class="s">"1vCPU.512MB"</span>
    <span class="n">ssh_key_name</span> <span class="o">=</span> <span class="s">"my_ssh_key"</span>
<span class="o">}</span>
</code></pre>

<p><code>POST /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/instances</code></p>

<p>Create an instance in an <a href="#environments">environment</a>. This endpoint allows you to easily attach a new or existing data volume and add port forwarding rules to the new instance without doing additional API calls.</p>

<table><thead>
<tr>
<th>Required</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code><br/><em>string</em></td>
<td>Name of the newly created instance</td>
</tr>
<tr>
<td><code class="prettyprint">templateId</code><br/><em>UUID</em></td>
<td>The <a href="#templates">template</a> to use for this instance</td>
</tr>
<tr>
<td><code class="prettyprint">computeOfferingId</code><br/><em>UUID</em></td>
<td>The <a href="#compute-offerings">compute offering</a> will determine the number of CPU and RAM of your instance</td>
</tr>
<tr>
<td><code class="prettyprint">networkId</code><br/><em>UUID</em></td>
<td>The <a href="#tiers">tier</a> in which the instance will be created. If you don&rsquo;t have a tier, it can be created through the <a href="#create-tier">create tier</a> api.</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Optional</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">diskOfferingId</code><br/><em>UUID</em></td>
<td>The <a href="#disk-offerings">disk offering</a> to be used for a new volume to attach to this instance</td>
</tr>
<tr>
<td><code class="prettyprint">additionalDiskSizeInGb</code><br/><em>int</em></td>
<td>The number of GB the additional disk should have. You must choose a <a href="#disk-offerings">disk offering</a> with custom disk size enabled.</td>
</tr>
<tr>
<td><code class="prettyprint">additionalDiskIops</code><br/><em>int</em></td>
<td>The number of IOPS the additional disk should have. You must choose a <a href="#disk-offerings">disk offering</a> with custom IOPS enabled.</td>
</tr>
<tr>
<td><code class="prettyprint">sshKeyName</code><br/><em>string</em></td>
<td>The name of the <a href="#ssh-keys">SSH key</a> to use for this instance. If you don&rsquo;t have an SSH key registered, you can do so through this <a href="#create-ssh-key">api</a>.</td>
</tr>
<tr>
<td><code class="prettyprint">publicKey</code><br/><em>string</em></td>
<td>The public key to use for this instance.</td>
</tr>
<tr>
<td><code class="prettyprint">volumeIdToAttach</code><br/><em>UUID</em></td>
<td>The <a href="#volumes">volume</a> to attach to this instance.</td>
</tr>
<tr>
<td><code class="prettyprint">affinityGroupId</code><br/><em>UUID</em></td>
<td>The <a href="#affinity-groups">affinity group</a> where to create the instance.</td>
</tr>
<tr>
<td><code class="prettyprint">portsToForward</code><br/><em>array[string]</em></td>
<td>The <a href="#port-forwarding-rules">ports</a> you would like to open on the instance. It will try to use an existing <a href="#public-ips">public IP address</a>, if it can&rsquo;t find one it will <a href="#acquire-a-public-ip">acquire a new public IP</a>.</td>
</tr>
<tr>
<td><code class="prettyprint">userData</code><br/><em>string</em></td>
<td>User data is data that can be accessed and interpreted in the instance. You can read about common use cases <a href="https://cloudops.cloud.ca/kb/en?id=9">here</a>.</td>
</tr>
<tr>
<td><code class="prettyprint">cpuCount</code><br/><em>int</em></td>
<td>If the <a href="#compute-offerings">compute offering</a> requires custom values (i.e. <code class="prettyprint">&quot;custom&quot;: true</code>), this value must be provided.</td>
</tr>
<tr>
<td><code class="prettyprint">memoryInMB</code><br/><em>int</em></td>
<td>If the <a href="#compute-offerings">compute offering</a> requires custom values (i.e. <code class="prettyprint">&quot;custom&quot;: true</code>), this value must be provided.</td>
</tr>
</tbody></table>

<!-------------------- UPDATE AN INSTANCE -------------------->

<h4 id="update-an-instance">Update an instance</h4>
<pre class="highlight shell"><code>
<span class="c"># Here is the absolute minimum information required to create a new instance:</span>

curl -X PUT <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -d <span class="s2">"request_body"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/instances/5951c2b8-e901-4c01-8ae0-cb8d7c508d29"</span>

<span class="c"># Request example:</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hal"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"hostname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hal_9000"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><code>POST /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/instances/:id</code></p>

<p>Update the name and hostname of an existing instance.
<aside class="caution">
  Changing the hostname will force a reboot of your instance.
</aside></p>

<table><thead>
<tr>
<th>Optional</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code><br/><em>string</em></td>
<td>Updated name of instance</td>
</tr>
<tr>
<td><code class="prettyprint">hostname</code><br/><em>string</em></td>
<td>Updated hostname of instance.</td>
</tr>
</tbody></table>

<!-------------------- DELETE AN INSTANCE -------------------->

<h4 id="destroy-an-instance">Destroy an instance</h4>
<pre class="highlight shell"><code>curl -X DELETE <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca:443/v1/services/compute-on/test_area/instances/5bf7352c-eed2-43dc-83f1-89917fb893ca"</span> <span class="se">\</span>

<span class="c"># Request example:</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"purgeImmediately"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
   </span><span class="nt">"deleteSnapshots"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
   </span><span class="nt">"publicIpIdsToRelease"</span><span class="p">:[</span><span class="w">
      </span><span class="s2">"fe446d61-a22c-403a-87bf-5351e65dc54d"</span><span class="w">
   </span><span class="p">],</span><span class="w">
   </span><span class="nt">"volumeIdsToDelete"</span><span class="p">:[</span><span class="w">
      </span><span class="s2">"e3d4045d-3ef7-464d-92a3-fc18269f36e2"</span><span class="w">
   </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">success</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">Instances</span><span class="o">.</span><span class="n">Destroy</span><span class="p">(</span><span class="s">"5951c2b8-e901-4c01-8ae0-cb8d7c508d29"</span><span class="p">,</span><span class="x"> </span><span class="no">true</span><span class="p">)</span><span class="x"> </span><span class="c">// purge flag</span><span class="x">
</span></code></pre>

<p><code>DELETE /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/instances/:id</code></p>

<p>Destroys an existing instance. The instance needs to be in the <em>Running</em>, <em>Stopped</em> or <em>Error</em> state for the operation to work. This endpoint allows you to do additional cleanup of resources attached to this instance such as <a href="#public-ips">public IPs</a>, <a href="#volumes">volumes</a> and <a href="#snapshots">snapshots</a>. If the purgeImmediately flag is not true, then it will not completely remove the instance from the <a href="#environments">environment</a>. (i.e. the instance could still be recovered).</p>

<table><thead>
<tr>
<th>Optional</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">purgeImmediately</code><br/><em>boolean</em></td>
<td>Will destroy and purge the instance if true, puts the instance in destroyed state otherwise. An instance that wasn&rsquo;t purged can be recovered.</td>
</tr>
<tr>
<td><code class="prettyprint">deleteSnapshots</code><br/><em>boolean</em></td>
<td>Will delete all <a href="#snapshots">snapshots</a> of volumes attached to this instance if true, will keep snapshots otherwise.</td>
</tr>
<tr>
<td><code class="prettyprint">publicIpIdsToRelease</code><br/><em>Array[UUID]</em></td>
<td>List of IDs of the <a href="#public-ips">public IP addresses</a> to release with the instance. Can only release public IPs of the instance being destroyed and they must not be used by other instances.</td>
</tr>
<tr>
<td><code class="prettyprint">volumeIdsToDelete</code><br/><em>Array[UUID]</em></td>
<td>List of IDs of the <a href="#volumes">data volumes</a> to delete with the instance. Can only destroy data volumes that are attached to this instance.</td>
</tr>
</tbody></table>

<!-------------------- START AN INSTANCE -------------------->

<h4 id="start-an-instance">Start an instance</h4>
<pre class="highlight shell"><code>
<span class="c"># Example:</span>

curl -X POST <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/instances/5951c2b8-e901-4c01-8ae0-cb8d7c508d29?operation=start"</span>

</code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">success</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">Instances</span><span class="o">.</span><span class="n">Start</span><span class="p">(</span><span class="s">"5951c2b8-e901-4c01-8ae0-cb8d7c508d29"</span><span class="p">)</span><span class="x">
</span></code></pre>

<p><code>POST /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/instances/:id?operation=start</code></p>

<p>Start an existing instance. The instance must be in the <em>Stopped</em> state for this operation to work.</p>

<!-------------------- STOP AN INSTANCE -------------------->

<h4 id="stop-an-instance">Stop an instance</h4>
<pre class="highlight shell"><code>
<span class="c"># Example:</span>

curl -X POST <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/instances/5951c2b8-e901-4c01-8ae0-cb8d7c508d29?operation=stop"</span>
</code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">success</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">Instances</span><span class="o">.</span><span class="n">Stop</span><span class="p">(</span><span class="s">"5951c2b8-e901-4c01-8ae0-cb8d7c508d29"</span><span class="p">)</span><span class="x">
</span></code></pre>

<p><code>POST /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/instances/:id?operation=stop</code></p>

<p>Stop an existing instance. The instance must be in the <em>Running</em> state for this operation to work.</p>

<!-------------------- REBOOT AN INSTANCE -------------------->

<h4 id="reboot-an-instance">Reboot an instance</h4>
<pre class="highlight shell"><code>
<span class="c"># Example:</span>

curl -X POST <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/instances/5951c2b8-e901-4c01-8ae0-cb8d7c508d29?operation=reboot"</span>
</code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">success</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">Instances</span><span class="o">.</span><span class="n">Reboot</span><span class="p">(</span><span class="s">"5951c2b8-e901-4c01-8ae0-cb8d7c508d29"</span><span class="p">)</span><span class="x">
</span></code></pre>

<p><code>POST /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/instances/:id?operation=reboot</code></p>

<p>Reboot an existing instance. The instance must be in the <em>Running</em> or <em>Stopped</em> state for this operation to work.</p>

<!-------------------- PURGE AN INSTANCE -------------------->

<h4 id="purge-an-instance">Purge an instance</h4>
<pre class="highlight shell"><code>
<span class="c"># Example:</span>

curl -X POST <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/instances/5951c2b8-e901-4c01-8ae0-cb8d7c508d29?operation=purge"</span>
</code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">success</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">Instances</span><span class="o">.</span><span class="n">Purge</span><span class="p">(</span><span class="s">"5951c2b8-e901-4c01-8ae0-cb8d7c508d29"</span><span class="p">)</span><span class="x">
</span></code></pre>

<p><code>POST /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/instances/:id?operation=purge</code></p>

<p>Purges an existing instance (i.e. completely remove it from the environment). The instance must be in a <em>Destroyed</em> state.</p>

<!-------------------- RECOVER AN INSTANCE -------------------->

<h4 id="recover-an-instance">Recover an instance</h4>
<pre class="highlight shell"><code>
<span class="c"># Example:</span>

curl -X POST <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/instances/5951c2b8-e901-4c01-8ae0-cb8d7c508d29?operation=recover"</span>
</code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">success</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">Instances</span><span class="o">.</span><span class="n">Recover</span><span class="p">(</span><span class="s">"instance_id"</span><span class="p">)</span><span class="x">
</span></code></pre>

<p><code>POST /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/instances/:id?operation=recover</code></p>

<p>Recover an existing instance that was previously destroyed. The instance must be in a <em>Destroyed</em> state.</p>

<!-------------------- CHANGE COMPUTE OFFERING OF AN INSTANCE -------------------->

<h4 id="change-the-compute-offering-of-an-instance">Change the compute offering of an instance</h4>
<pre class="highlight shell"><code>
<span class="c"># Example:</span>

curl -X POST <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/instances/5951c2b8-e901-4c01-8ae0-cb8d7c508d29?operation=changeComputeOffering"</span>
</code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">success</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">Instances</span><span class="o">.</span><span class="n">ChangeComputeOffering</span><span class="p">(</span><span class="s">"instance_id"</span><span class="p">,</span><span class="x"> </span><span class="s">"new_compute_offering_id"</span><span class="p">)</span><span class="x">
</span></code></pre>

<p><code>POST /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/instances/:id?operation=changeComputeOffering</code></p>

<p>Change the compute offering of an existing instance.</p>

<aside class="caution">
  This will force a reboot of your instance.
</aside>

<!-------------------- CHANGE COMPUTE OFFERING OF AN INSTANCE -------------------->

<h4 id="reset-the-password-of-an-instance">Reset the password of an instance</h4>
<pre class="highlight shell"><code>
<span class="c"># Example:</span>

curl -X POST <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/instances/5951c2b8-e901-4c01-8ae0-cb8d7c508d29?operation=resetPassword"</span>
</code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">password</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">Instances</span><span class="o">.</span><span class="n">ResetPassword</span><span class="p">(</span><span class="s">"instance_id"</span><span class="p">)</span><span class="x">
</span></code></pre>

<p><code>POST /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/instances/:id?operation=resetPassword</code></p>

<p>Reset the password of the default user of an existing instance. The new password of the instance will be in the task result.</p>

<!-------------------- ASSOCIATE AN SSH KEY TO AN INSTANCE -------------------->

<h4 id="associate-an-ssh-key-to-an-instance">Associate an SSH key to an instance</h4>
<pre class="highlight shell"><code>
<span class="c"># Example:</span>

curl -X POST <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/instances/5951c2b8-e901-4c01-8ae0-cb8d7c508d29?operation=associateSSHKey"</span>

<span class="c"># Request example:</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"sshKeyName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_ssh_key"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">success</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">Instances</span><span class="o">.</span><span class="n">AssociateSSHKey</span><span class="p">(</span><span class="s">"5951c2b8-e901-4c01-8ae0-cb8d7c508d29"</span><span class="p">,</span><span class="x"> </span><span class="s">"my_ssh_key"</span><span class="p">)</span><span class="x">
</span></code></pre>

<p><code>POST /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/instances/:id?operation=associateSSHKey</code></p>

<p>Associate a new <a href="#ssh-keys">SSH key</a> to the default user of an existing instance. This will override any other <a href="#ssh-keys">SSH key</a> associated to the instance for the default user. You can register a new SSH key with the <a href="#register-an-ssh-key">register SSH key</a> endpoint.</p>

<table><thead>
<tr>
<th>Required</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">sshKeyName</code><br/><em>string</em></td>
<td>The name of the <a href="#ssh-keys">SSH key</a> to associate to the instance</td>
</tr>
</tbody></table>

              <h3 id="templates">Templates</h3>

<p>A template is a virtual disk image that can be used on the creation of an <a href="#instances">instance</a>. It contains the operating system which can contain some predefined configuration, files and software. Cloud.ca provides many default templates but you can also upload your own custom templates.</p>

<h4 id="list-templates">List templates</h4>
<pre class="highlight shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/templates"</span>

<span class="c"># Example:</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0b3fea04-b1ed-48cf-921d-96795dfe9a81"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ubuntu"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Example template"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">52428800</span><span class="p">,</span><span class="w">
    </span><span class="nt">"isPublic"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"isReady"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"isDynamicallyScalable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"sshKeyEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created"</span><span class="p">:</span><span class="s2">"2016-10-24 2:40:29 PM EDT"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"osType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Other (64-bit)"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><code>GET /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/templates</code></p>

<p>Retrieve a list of all templates of an <a href="#environments">environment</a> It will include all the public templates of the system.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code><br/><em>UUID</em></td>
<td>The id of the template</td>
</tr>
<tr>
<td><code class="prettyprint">name</code><br/><em>string</em></td>
<td>The name of the template</td>
</tr>
<tr>
<td><code class="prettyprint">description</code><br/><em>string</em></td>
<td>The description of the template</td>
</tr>
<tr>
<td><code class="prettyprint">size</code><br/><em>long</em></td>
<td>The size of the template in bytes</td>
</tr>
<tr>
<td><code class="prettyprint">isPublic</code><br/><em>boolean</em></td>
<td>true if public to everyone. Your custom templates will always be private</td>
</tr>
<tr>
<td><code class="prettyprint">isReady</code><br/><em>boolean</em></td>
<td>true if the template is ready to be used for a new <a href="#instances">instance</a></td>
</tr>
<tr>
<td><code class="prettyprint">isDynamicallyScalable</code><br/><em>boolean</em></td>
<td>true if you can dynamically scale an <a href="#instances">instance</a> with this template</td>
</tr>
<tr>
<td><code class="prettyprint">created</code><br/><em>string</em></td>
<td>The creation date of the template</td>
</tr>
<tr>
<td><code class="prettyprint">osType</code><br/><em>string</em></td>
<td>The OS type of the template (e.g. Ubuntu, CentOS&hellip;)</td>
</tr>
</tbody></table>

<h4 id="retrieve-a-template">Retrieve a template</h4>
<pre class="highlight shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
<span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/templates/162cdfcb-45e5-4aa6-81c4-124c94621bdb"</span>

<span class="c"># Example:</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0b3fea04-b1ed-48cf-921d-96795dfe9a81"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ubuntu"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Example template"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">52428800</span><span class="p">,</span><span class="w">
    </span><span class="nt">"isPublic"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"isReady"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"isDynamicallyScalable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"sshKeyEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created"</span><span class="p">:</span><span class="s2">"2016-10-24 2:40:29 PM EDT"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"osType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Other (64-bit)"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><code>GET /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/templates/:id</code></p>

<p>Retrieve information about a public or private template of an <a href="#environments">environment</a></p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code><br/><em>UUID</em></td>
<td>The id of the template</td>
</tr>
<tr>
<td><code class="prettyprint">name</code><br/><em>string</em></td>
<td>The name of the template</td>
</tr>
<tr>
<td><code class="prettyprint">description</code><br/><em>string</em></td>
<td>The description of the template</td>
</tr>
<tr>
<td><code class="prettyprint">size</code><br/><em>long</em></td>
<td>The size of the template in bytes</td>
</tr>
<tr>
<td><code class="prettyprint">isPublic</code><br/><em>boolean</em></td>
<td>true if public to everyone. Your custom templates will always be private</td>
</tr>
<tr>
<td><code class="prettyprint">isReady</code><br/><em>boolean</em></td>
<td>true if the template is ready to be used for a new <a href="#instances">instance</a></td>
</tr>
<tr>
<td><code class="prettyprint">isDynamicallyScalable</code><br/><em>boolean</em></td>
<td>true if you can dynamically scale an <a href="#instances">instance</a> with this template</td>
</tr>
<tr>
<td><code class="prettyprint">created</code><br/><em>string</em></td>
<td>The creation date of the template</td>
</tr>
<tr>
<td><code class="prettyprint">osType</code><br/><em>string</em></td>
<td>The OS type of the template (e.g. Ubuntu, CentOS&hellip;)</td>
</tr>
</tbody></table>

              <h3 id="ssh-keys">SSH keys</h3>

<p>SSH keys can be assigned to default users of instances by using the <a href="#associate-an-ssh-key-to-an-instance">associate SSH key</a> operation.</p>

<!-------------------- LIST SSH KEYS -------------------->

<h4 id="list-ssh-keys">List SSH keys</h4>
<pre class="highlight shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/sshkeys"</span>

<span class="c"># Example:</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mellon"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fingerprint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"91:8d:71:ca:2d:2c:ad:97:26:db:cb:c3:df:9a:e9:b6"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><code>GET /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/sshkeys</code></p>

<p>Retrieve a list of all SSH keys in an <a href="#environments">environment</a></p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code><br/><em>string</em></td>
<td>The name of the SSH key</td>
</tr>
<tr>
<td><code class="prettyprint">fingerprint</code><br/><em>string</em></td>
<td>A short sequence of bytes used to identify the SSH key.</td>
</tr>
</tbody></table>

<!-------------------- RETRIEVE AN SSH KEY -------------------->

<h4 id="retrieve-an-ssh-key">Retrieve an SSH key</h4>
<pre class="highlight shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/sshkeys/mellon"</span>

<span class="c"># Example:</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mellon"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fingerprint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"91:8d:71:ca:2d:2c:ad:97:26:db:cb:c3:df:9a:e9:b6"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><code>GET /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/sshkeys/:name</code></p>

<p>Retrieve information about an SSH key of an <a href="#environments">environment</a></p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code><br/><em>string</em></td>
<td>The name of the SSH key</td>
</tr>
<tr>
<td><code class="prettyprint">fingerprint</code><br/><em>string</em></td>
<td>A short sequence of bytes used to identify the SSH key.</td>
</tr>
</tbody></table>

              <h3 id="affinity-groups">Affinity groups</h3>

<p>Affinity groups are a way of influencing on which host an <a href="#instances">instance</a> will be deployed. An anti-affinity group (the only type of affinity group we support) allows you to put <a href="#instances">instances</a> on different hosts to increase fault-tolerance. In the unlikely event of a host failure, your services would still be up on another host (assuming you distribute your services on multiple instances).</p>

<!-------------------- LIST AFFINITY GROUPS -------------------->

<h4 id="list-affinity-groups">List affinity groups</h4>
<pre class="highlight shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
<span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/affinitygroups"</span>

<span class="c"># Example:</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d4fd794f-66e1-4906-a720-d0afb04bd517"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gnr"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="s2">"host anti-affinity"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"instanceIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"92b4df86-fee3-4610-8167-78332b86362f"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><code>GET /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/affinitygroups</code></p>

<p>Retrieve a list of all affinity groups in an <a href="#environments">environment</a></p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code><br/><em>UUID</em></td>
<td>The id of the affinity group</td>
</tr>
<tr>
<td><code class="prettyprint">name</code><br/><em>string</em></td>
<td>The name of the affinity group</td>
</tr>
<tr>
<td><code class="prettyprint">type</code><br/><em>string</em></td>
<td>The type of affinity group. We only support anti-affinity</td>
</tr>
<tr>
<td><code class="prettyprint">instanceIds</code><br/><em>Array[UUID]</em></td>
<td>The ids of the <a href="#instances">instances</a> in the affinity group</td>
</tr>
</tbody></table>

<!-------------------- RETRIEVE AN AFFINITY GROUP -------------------->

<h4 id="retrieve-an-affinity-group">Retrieve an affinity group</h4>
<pre class="highlight shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/affinitygroups/d4fd794f-66e1-4906-a720-d0afb04bd517"</span>

<span class="c"># Example:</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d4fd794f-66e1-4906-a720-d0afb04bd517"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gnr"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"host anti-affinity"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"instanceIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"92b4df86-fee3-4610-8167-78332b86362f"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><code>GET /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/affinitygroups/:id</code></p>

<p>Retrieve information about an affinity group.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code><br/><em>UUID</em></td>
<td>The id of the affinity group</td>
</tr>
<tr>
<td><code class="prettyprint">name</code><br/><em>string</em></td>
<td>The name of the affinity group</td>
</tr>
<tr>
<td><code class="prettyprint">type</code><br/><em>string</em></td>
<td>The type of affinity group. We only support anti-affinity</td>
</tr>
<tr>
<td><code class="prettyprint">instanceIds</code><br/><em>Array[UUID]</em></td>
<td>The ids of the <a href="#instances">instances</a> in the affinity group</td>
</tr>
</tbody></table>

<!-------------------- CREATE AN AFFINITY GROUP -------------------->

<h4 id="create-an-affinity-group">Create an affinity group</h4>
<pre class="highlight shell"><code>curl -X POST <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -d <span class="s2">"request_body"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/affinitygroups"</span>

<span class="c"># Request should look like this</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gnr"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My affinity group"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"host anti-affinity"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"instanceIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
     </span><span class="s2">"92b4df86-fee3-4610-8167-78332b86362f"</span><span class="w">
   </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><code>POST /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/affinitygroups</code></p>

<p>Create an affinity group and add <a href="#instances">instances</a> to it.</p>

<table><thead>
<tr>
<th>Required</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code><br/><em>string</em></td>
<td>The name of the new affinity group</td>
</tr>
<tr>
<td><code class="prettyprint">description</code><br/><em>string</em></td>
<td>A description of the affinity group</td>
</tr>
<tr>
<td><code class="prettyprint">type</code><br/><em>string</em></td>
<td>The type of new affinity group. We only support anti-affinity</td>
</tr>
<tr>
<td><code class="prettyprint">instanceIds</code><br/><em>Array[UUID]</em></td>
<td>The ids of the <a href="#instances">instances</a> in the affinity group</td>
</tr>
</tbody></table>

<!-------------------- UPDATE AN AFFINITY GROUP -------------------->

<h4 id="update-an-affinity-group">Update an affinity group</h4>
<pre class="highlight shell"><code>curl -X PUT <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -d <span class="s2">"request_body"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/affinitygroups/d4fd794f-66e1-4906-a720-d0afb04bd517"</span>

<span class="c"># Request should look like this</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"instanceIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
     </span><span class="s2">"92b4df86-fee3-4610-8167-78332b86362f"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"105f8b5e-5482-4bf5-88ca-7d7b7f431e3e"</span><span class="w">
   </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><code>PUT /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/affinitygroups/:id</code></p>

<p>Update the list of <a href="#instances">instances</a> in the affinity group.</p>

<table><thead>
<tr>
<th>Required</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code><br/><em>string</em></td>
<td>The name of the new affinity group</td>
</tr>
<tr>
<td><code class="prettyprint">description</code><br/><em>string</em></td>
<td>A description of the affinity group</td>
</tr>
<tr>
<td><code class="prettyprint">type</code><br/><em>string</em></td>
<td>The type of new affinity group. We only support anti-affinity</td>
</tr>
<tr>
<td><code class="prettyprint">instanceIds</code><br/><em>Array[UUID]</em></td>
<td>The ids of the <a href="#instances">instances</a> in the affinity group</td>
</tr>
</tbody></table>

<!-------------------- DELETE AN AFFINITY GROUP -------------------->

<h4 id="delete-an-affinity-group">Delete an affinity group</h4>
<pre class="highlight shell"><code>curl -X DELETE <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/affinitygroups/d4fd794f-66e1-4906-a720-d0afb04bd517"</span>
</code></pre>

<p><code>DELETE /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/affinitygroups/:id</code></p>

<p>Delete an existing affinity group.</p>

              <h2 id="networking">Networking</h2>

              <h3 id="vpcs">VPCs</h3>

<p>A Virtual Private Cloud (VPC) is a logically isolated section of cloud.ca, where you can build a multi-tier application architecture.</p>

<!-------------------- LIST VPCS -------------------->

<h4 id="list-vpcs">List VPCs</h4>
<pre class="highlight shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/vpcs"</span>

<span class="c"># Example response:</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9fe8e398-06d6-482c-8f55-b805bde4d3cc"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MyVPC"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Some VPC"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cidr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.155.24.0/22"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"zoneId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04afdbd1-e32d-4999-86d0-96703736dded"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"zoneName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QC-1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Enabled"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"networkDomain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hello.world"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"vpcOfferingId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21a40b85-5fa9-440f-ab77-5e560073b584"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"requiresUpgrade"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"sourceNatIp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"172.31.3.253"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"vpnStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Disabled"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">vpcs</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">Vpcs</span><span class="o">.</span><span class="n">List</span><span class="p">()</span><span class="x">
</span></code></pre>

<p><code>GET /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/vpcs</code></p>

<p>Retrieve a list of all VPCs of an <a href="#environments">environment</a></p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code><br/><em>UUID</em></td>
<td>The id of the VPC</td>
</tr>
<tr>
<td><code class="prettyprint">name</code><br/><em>string</em></td>
<td>The name of the VPC</td>
</tr>
<tr>
<td><code class="prettyprint">description</code><br/><em>string</em></td>
<td>The description of the VPC</td>
</tr>
<tr>
<td><code class="prettyprint">cidr</code><br/><em>string</em></td>
<td>The CIDR of a VPC</td>
</tr>
<tr>
<td><code class="prettyprint">zoneId</code><br/><em>string</em></td>
<td>The id of the <a href="#zones">zone</a> where the VPC was created</td>
</tr>
<tr>
<td><code class="prettyprint">zoneName</code><br/><em>string</em></td>
<td>The name of the <a href="#zones">zone</a> where the VPC was created</td>
</tr>
<tr>
<td><code class="prettyprint">state</code><br/><em>string</em></td>
<td>The state of the VPC</td>
</tr>
<tr>
<td><code class="prettyprint">networkDomain</code><br/><em>string</em></td>
<td>A custom DNS suffix at the level of a network</td>
</tr>
<tr>
<td><code class="prettyprint">requiresUpgrade</code><br/><em>string</em></td>
<td>true if the VPC needs to be upgraded</td>
</tr>
<tr>
<td><code class="prettyprint">sourceNatIp</code><br/><em>string</em></td>
<td>The source NAT IP of the VPC</td>
</tr>
<tr>
<td><code class="prettyprint">vpnStatus</code><br/><em>string</em></td>
<td>The status of the <a href="#vpn">VPN</a>. The status can be <code class="prettyprint">ENABLED</code> or <code class="prettyprint">DISABLED</code></td>
</tr>
</tbody></table>

<!-------------------- RETRIEVE A VPC -------------------->

<h4 id="retrieve-a-vpc">Retrieve a VPC</h4>
<pre class="highlight shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/vpcs/ad5bcae8-ee8b-4ee8-a7a4-381c25444b8e"</span>

<span class="c"># Example response:</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9fe8e398-06d6-482c-8f55-b805bde4d3cc"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MyVPC"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Some VPC"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cidr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.155.24.0/22"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"zoneId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04afdbd1-e32d-4999-86d0-96703736dded"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"zoneName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QC-1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Enabled"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"networkDomain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hello.world"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"vpcOfferingId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21a40b85-5fa9-440f-ab77-5e560073b584"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"requiresUpgrade"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"sourceNatIp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"172.31.3.253"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"vpnStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Disabled"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">vpc</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">Vpcs</span><span class="o">.</span><span class="n">Get</span><span class="p">(</span><span class="s">"ad5bcae8-ee8b-4ee8-a7a4-381c25444b8e"</span><span class="p">)</span><span class="x">
</span></code></pre>

<p><code>GET /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/vpcs/:id</code></p>

<p>Retrieve information about a VPC.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code><br/><em>UUID</em></td>
<td>The id of the VPC</td>
</tr>
<tr>
<td><code class="prettyprint">name</code><br/><em>string</em></td>
<td>The name of the VPC</td>
</tr>
<tr>
<td><code class="prettyprint">description</code><br/><em>string</em></td>
<td>The description of the VPC</td>
</tr>
<tr>
<td><code class="prettyprint">cidr</code><br/><em>string</em></td>
<td>The CIDR of a VPC</td>
</tr>
<tr>
<td><code class="prettyprint">zoneId</code><br/><em>string</em></td>
<td>The id of the <a href="#zones">zone</a> where the VPC was created</td>
</tr>
<tr>
<td><code class="prettyprint">zoneName</code><br/><em>string</em></td>
<td>The name of the <a href="#zones">zone</a> where the VPC was created</td>
</tr>
<tr>
<td><code class="prettyprint">state</code><br/><em>string</em></td>
<td>The state of the VPC</td>
</tr>
<tr>
<td><code class="prettyprint">networkDomain</code><br/><em>string</em></td>
<td>A custom DNS suffix at the level of a network</td>
</tr>
<tr>
<td><code class="prettyprint">requiresUpgrade</code><br/><em>string</em></td>
<td>true if the VPC needs to be upgraded</td>
</tr>
<tr>
<td><code class="prettyprint">sourceNatIp</code><br/><em>string</em></td>
<td>The source NAT IP of the VPC</td>
</tr>
<tr>
<td><code class="prettyprint">vpnStatus</code><br/><em>string</em></td>
<td>The status of the <a href="#vpn">VPN</a>. The status can be <code class="prettyprint">ENABLED</code> or <code class="prettyprint">DISABLED</code></td>
</tr>
</tbody></table>

<!-------------------- CREATE A VPC -------------------->

<h4 id="create-a-vpc">Create a VPC</h4>
<pre class="highlight shell"><code>
<span class="c"># Example:</span>

curl -X POST <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -d <span class="s2">"request_body"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/vpcs"</span>

<span class="c"># Request example:</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_vpc"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My prod VPC"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"vpcOfferingId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21a40b85-5fa9-440f-ab77-5e560073b584"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"networkDomain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hello.world"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">createdVpc</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">Vpcs</span><span class="o">.</span><span class="n">Create</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Vpc</span><span class="p">{</span><span class="x">
        </span><span class="n">Name</span><span class="o">:</span><span class="x"> </span><span class="s">"my_vpc"</span><span class="p">,</span><span class="x">
        </span><span class="n">Description</span><span class="o">:</span><span class="x"> </span><span class="s">"My prod VPC"</span><span class="p">,</span><span class="x">
        </span><span class="n">VpcOfferingId</span><span class="o">:</span><span class="x"> </span><span class="s">"21a40b85-5fa9-440f-ab77-5e560073b584"</span><span class="p">,</span><span class="x">
        </span><span class="n">NetworkDomain</span><span class="o">:</span><span class="s">"hello.world"</span><span class="x">
    </span><span class="p">})</span><span class="x">
</span></code></pre>
<pre class="highlight dart"><code><span class="n">resource</span> <span class="s">"cloudca_vpc"</span> <span class="s">"my_vpc"</span> <span class="o">{</span>
    <span class="n">service_code</span> <span class="o">=</span> <span class="s">"compute-on"</span>
    <span class="n">environment_name</span> <span class="o">=</span> <span class="s">"test_area"</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s">"my_vpc"</span>
    <span class="n">description</span> <span class="o">=</span> <span class="s">"This is a test vpc"</span>
    <span class="n">vpc_offering</span> <span class="o">=</span> <span class="s">"Default VPC offering"</span>
<span class="o">}</span>
</code></pre>

<p><code>POST /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/vpcs</code></p>

<p>Create a VPC in an <a href="#environments">environment</a></p>

<table><thead>
<tr>
<th>Required</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code><br/><em>string</em></td>
<td>The name of the new VPC</td>
</tr>
<tr>
<td><code class="prettyprint">description</code><br/><em>string</em></td>
<td>The description of the new VPC</td>
</tr>
<tr>
<td><code class="prettyprint">vpcOfferingId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#vpc-offerings">VPC offering</a> to use for the new VPC</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Optional</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">networkDomain</code><br/><em>string</em></td>
<td>A custom DNS suffix at the level of a network</td>
</tr>
</tbody></table>

<!-------------------- UPDATE A VPC -------------------->

<h4 id="update-a-vpc">Update a VPC</h4>
<pre class="highlight shell"><code>
<span class="c"># Example:</span>

curl -X PUT <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -d <span class="s2">"request_body"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/vpcs/d77e1ab1-0320-4504-83c5-e78b431c7577"</span>

<span class="c"># Request example:</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_updated_vpc"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My prod VPC"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">updatedVpc</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">Vpcs</span><span class="o">.</span><span class="n">Update</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Vpc</span><span class="p">{</span><span class="x">
        </span><span class="n">Id</span><span class="o">:</span><span class="x"> </span><span class="s">"d77e1ab1-0320-4504-83c5-e78b431c7577"</span><span class="p">,</span><span class="x">
        </span><span class="n">Name</span><span class="o">:</span><span class="x"> </span><span class="s">"my_updated_vpc"</span><span class="p">,</span><span class="x">
        </span><span class="n">Description</span><span class="o">:</span><span class="x"> </span><span class="s">"My prod VPC"</span><span class="p">,</span><span class="x">
    </span><span class="p">})</span><span class="x">
</span></code></pre>

<p><code>PUT /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/vpcs</code></p>

<p>Update an existing VPC in your <a href="#environments">environment</a></p>

<table><thead>
<tr>
<th>Optional</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code><br/><em>string</em></td>
<td>The new name of the VPC</td>
</tr>
<tr>
<td><code class="prettyprint">description</code><br/><em>string</em></td>
<td>The new description of the VPC</td>
</tr>
</tbody></table>

<!-------------------- DELETE A VPC -------------------->

<h4 id="destroy-a-vpc">Destroy a VPC</h4>
<pre class="highlight shell"><code>
<span class="c"># Example:</span>

curl -X DELETE <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/vpcs/ad5bcae8-ee8b-4ee8-a7a4-381c25444b8e"</span>
</code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">success</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">Vpcs</span><span class="o">.</span><span class="n">Destroy</span><span class="p">(</span><span class="s">"ad5bcae8-ee8b-4ee8-a7a4-381c25444b8e"</span><span class="p">)</span><span class="x">
</span></code></pre>

<p><code>DELETE /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/vpcs/:id</code></p>

<p>Destroy an existing VPC. To delete a VPC, you must first delete all the <a href="#tiers">tiers</a> in the VPC.</p>

<!-------------------- RESTART A VPC -------------------->

<h4 id="restart-a-vpc">Restart a VPC</h4>
<pre class="highlight shell"><code>
<span class="c"># Example:</span>

curl -X POST <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/vpcs/ad5bcae8-ee8b-4ee8-a7a4-381c25444b8e?operation=restart"</span>
</code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">success</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">Vpcs</span><span class="o">.</span><span class="n">RestartRouter</span><span class="p">(</span><span class="s">"ad5bcae8-ee8b-4ee8-a7a4-381c25444b8e"</span><span class="p">)</span><span class="x">
</span></code></pre>

<p><code>POST /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/vpcs/:id?operation=restart</code></p>

<p>Restart the router of a VPC.</p>

              <h3 id="tiers">Tiers</h3>

<p>A tier is an isolated network with its own VLANs and CIDR list, where you can place groups of resources, such as <a href="#instances">instances</a>.</p>

<!-------------------- LIST TIER -------------------->

<h4 id="list-tiers">List tiers</h4>
<pre class="highlight shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/tiers"</span>

<span class="c"># Example response:</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8ef7539c-c9ba-49f3-a484-a08f4ffb2234"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Frontend"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default tier"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"vpcId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12b8c150-b444-482a-8411-c08eaccb0a3b"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"vpcName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SomeVPC"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"zoneId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04afdbd1-e32d-4999-86d0-96703736dded"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"zoneName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QC-1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cidr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.169.254.0/24"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"gateway"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.169.254.1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"netmask"</span><span class="p">:</span><span class="w"> </span><span class="s2">"255.255.255.0"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"networkAclId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9ba3ec65-2e1d-11e4-8e05-42a29a39fc92"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"networkAclName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default_allow"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"networkOfferingId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9593f0df-573a-43c4-a107-a5c704a7cfee"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"networkOfferingName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Load Balanced Tier"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"networkOfferingDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Offering for Isolated Vpc networks with Source Nat service enabled"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Implemented"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">tiers</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">Tiers</span><span class="o">.</span><span class="n">List</span><span class="p">()</span><span class="x">
</span></code></pre>

<p><code>GET /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/tiers</code></p>

<p>Retrieve a list of all tiers of an <a href="#environments">environment</a></p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code><br/><em>UUID</em></td>
<td>The id of the tier</td>
</tr>
<tr>
<td><code class="prettyprint">name</code><br/><em>string</em></td>
<td>The name of the tier</td>
</tr>
<tr>
<td><code class="prettyprint">description</code><br/><em>string</em></td>
<td>The description of the tier</td>
</tr>
<tr>
<td><code class="prettyprint">vpcId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#vpcs">VPC</a> where the tier was created</td>
</tr>
<tr>
<td><code class="prettyprint">vpcName</code><br/><em>string</em></td>
<td>The name of the <a href="#vpcs">VPC</a> where the tier was created</td>
</tr>
<tr>
<td><code class="prettyprint">zoneId</code><br/><em>string</em></td>
<td>The id of the <a href="#zones">zone</a> where the tier was created</td>
</tr>
<tr>
<td><code class="prettyprint">zoneName</code><br/><em>string</em></td>
<td>The name of the <a href="#zones">zone</a> where the tier was created</td>
</tr>
<tr>
<td><code class="prettyprint">cidr</code><br/><em>string</em></td>
<td>The cidr of the tier</td>
</tr>
<tr>
<td><code class="prettyprint">gateway</code><br/><em>string</em></td>
<td>The gateway of the tier</td>
</tr>
<tr>
<td><code class="prettyprint">netmask</code><br/><em>string</em></td>
<td>The netmask of the tier</td>
</tr>
<tr>
<td><code class="prettyprint">networkAclId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#network-acls">network ACL</a> of the the tier</td>
</tr>
<tr>
<td><code class="prettyprint">networkAclName</code><br/><em>string</em></td>
<td>The name of the <a href="#network-acls">network ACL</a> of the the tier</td>
</tr>
<tr>
<td><code class="prettyprint">networkOfferingId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#network-offerings">network offering</a> of the tier</td>
</tr>
<tr>
<td><code class="prettyprint">networkOfferingName</code><br/><em>string</em></td>
<td>The name of the <a href="#network-offerings">network offering</a> of the tier</td>
</tr>
<tr>
<td><code class="prettyprint">networkOfferingDescription</code><br/><em>string</em></td>
<td>The description of the <a href="#network-offerings">network offering</a> of the tier</td>
</tr>
<tr>
<td><code class="prettyprint">state</code><br/><em>string</em></td>
<td>The state of the tier. <code class="prettyprint">Allocated</code> if no instances where created in the tier yet, <code class="prettyprint">Implemented</code> otherwise.</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Query Parameters</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">vpc_id</code><br/><em>UUID</em></td>
<td>Filter the list to only retrieve the tiers of a <a href="#vpcs">VPC</a></td>
</tr>
<tr>
<td><code class="prettyprint">zone_id</code><br/><em>UUID</em></td>
<td>Filter the list to only retrieve the tiers in a specific <a href="#zones">zone</a></td>
</tr>
</tbody></table>

<!-------------------- RETRIEVE A TIER -------------------->

<h4 id="retrieve-a-tier">Retrieve a tier</h4>
<pre class="highlight shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/tiers/ad5bcae8-ee8b-4ee8-a7a4-381c25444b8e"</span>

<span class="c"># Example response:</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8ef7539c-c9ba-49f3-a484-a08f4ffb2234"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Frontend"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default tier"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"vpcId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12b8c150-b444-482a-8411-c08eaccb0a3b"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"vpcName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SomeVPC"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"zoneId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04afdbd1-e32d-4999-86d0-96703736dded"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"zoneName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QC-1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cidr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.169.254.0/24"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"gateway"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.169.254.1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"netmask"</span><span class="p">:</span><span class="w"> </span><span class="s2">"255.255.255.0"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"networkAclId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9ba3ec65-2e1d-11e4-8e05-42a29a39fc92"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"networkAclName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default_allow"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"networkOfferingId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9593f0df-573a-43c4-a107-a5c704a7cfee"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"networkOfferingName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Load Balanced Tier"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"networkOfferingDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Offering for Isolated Vpc networks with Source Nat service enabled"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Implemented"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">tier</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">Tiers</span><span class="o">.</span><span class="n">Get</span><span class="p">(</span><span class="s">"ad5bcae8-ee8b-4ee8-a7a4-381c25444b8e"</span><span class="p">)</span><span class="x">
</span></code></pre>

<p><code>GET /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/tiers/:id</code></p>

<p>Retrieve information about a tier.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code><br/><em>UUID</em></td>
<td>The id of the tier</td>
</tr>
<tr>
<td><code class="prettyprint">name</code><br/><em>string</em></td>
<td>The name of the tier</td>
</tr>
<tr>
<td><code class="prettyprint">description</code><br/><em>string</em></td>
<td>The description of the tier</td>
</tr>
<tr>
<td><code class="prettyprint">vpcId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#vpcs">VPC</a> where the tier was created</td>
</tr>
<tr>
<td><code class="prettyprint">vpcName</code><br/><em>string</em></td>
<td>The name of the <a href="#vpcs">VPC</a> where the tier was created</td>
</tr>
<tr>
<td><code class="prettyprint">zoneId</code><br/><em>string</em></td>
<td>The id of the <a href="#zones">zone</a> where the tier was created</td>
</tr>
<tr>
<td><code class="prettyprint">zoneName</code><br/><em>string</em></td>
<td>The name of the <a href="#zones">zone</a> where the tier was created</td>
</tr>
<tr>
<td><code class="prettyprint">cidr</code><br/><em>string</em></td>
<td>The cidr of the tier</td>
</tr>
<tr>
<td><code class="prettyprint">gateway</code><br/><em>string</em></td>
<td>The gateway of the tier</td>
</tr>
<tr>
<td><code class="prettyprint">netmask</code><br/><em>string</em></td>
<td>The netmask of the tier</td>
</tr>
<tr>
<td><code class="prettyprint">networkAclId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#network-acls">network ACL</a> of the the tier</td>
</tr>
<tr>
<td><code class="prettyprint">networkAclName</code><br/><em>string</em></td>
<td>The name of the <a href="#network-acls">network ACL</a> of the the tier</td>
</tr>
<tr>
<td><code class="prettyprint">networkOfferingId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#network-offerings">network offering</a> of the tier</td>
</tr>
<tr>
<td><code class="prettyprint">networkOfferingName</code><br/><em>string</em></td>
<td>The name of the <a href="#network-offerings">network offering</a> of the tier</td>
</tr>
<tr>
<td><code class="prettyprint">networkOfferingDescription</code><br/><em>string</em></td>
<td>The description of the <a href="#network-offerings">network offering</a> of the tier</td>
</tr>
<tr>
<td><code class="prettyprint">state</code><br/><em>string</em></td>
<td>The state of the tier. <code class="prettyprint">Allocated</code> if no instances where created in the tier yet, <code class="prettyprint">Implemented</code> otherwise.</td>
</tr>
</tbody></table>

<!-------------------- CREATE A TIER -------------------->

<h4 id="create-a-tier">Create a tier</h4>
<pre class="highlight shell"><code>
<span class="c"># Example:</span>

curl -X POST <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -d <span class="s2">"request_body"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/tiers"</span>

<span class="c"># Request example:</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_tier"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My production tier"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"vpcId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b1932c7c-0b85-450f-92b9-bfdeb3e80804"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"networkOfferingId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c5d4ffcd-56e2-407a-8b4d-06082b7365c4"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"networkAclId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9ba3ec65-2e1d-11e4-8e05-42a29a39fc92"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">createdTier</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">Tiers</span><span class="o">.</span><span class="n">Create</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Tier</span><span class="p">{</span><span class="x">
        </span><span class="n">Name</span><span class="o">:</span><span class="x"> </span><span class="s">"my_tier"</span><span class="p">,</span><span class="x">
        </span><span class="n">Description</span><span class="o">:</span><span class="x"> </span><span class="s">"My production tier"</span><span class="p">,</span><span class="x">
        </span><span class="n">VpcId</span><span class="o">:</span><span class="x"> </span><span class="s">"b1932c7c-0b85-450f-92b9-bfdeb3e80804"</span><span class="p">,</span><span class="x">
        </span><span class="n">NetworkOfferingId</span><span class="o">:</span><span class="x"> </span><span class="s">"c5d4ffcd-56e2-407a-8b4d-06082b7365c4"</span><span class="p">,</span><span class="x">
        </span><span class="n">NetworkAclId</span><span class="o">:</span><span class="x"> </span><span class="s">"9ba3ec65-2e1d-11e4-8e05-42a29a39fc92"</span><span class="x">
    </span><span class="p">},</span><span class="x">  </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span><span class="p">{})</span><span class="x">
</span></code></pre>
<pre class="highlight dart"><code><span class="n">resource</span> <span class="s">"cloudca_tier"</span> <span class="s">"my_tier"</span> <span class="o">{</span>
    <span class="n">service_code</span> <span class="o">=</span> <span class="s">"compute-on"</span>
    <span class="n">environment_name</span> <span class="o">=</span> <span class="s">"test_area"</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s">"my_tier"</span>
    <span class="n">description</span> <span class="o">=</span> <span class="s">"This is a prod tier"</span>
    <span class="n">vpc_id</span> <span class="o">=</span> <span class="s">"8b46e2d1-bbc4-4fad-b3bd-1b25fcba4cec"</span>
    <span class="n">network_offering</span> <span class="o">=</span> <span class="s">"Standard Tier"</span>
    <span class="n">network_acl_id</span> <span class="o">=</span> <span class="s">"7d428416-263d-47cd-9270-2cdbdf222f57"</span>
<span class="o">}</span>
</code></pre>

<p><code>POST /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/tiers</code></p>

<p>Create a tier in an <a href="#environments">environment</a></p>

<table><thead>
<tr>
<th>Required</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code><br/><em>string</em></td>
<td>The name of the new tier</td>
</tr>
<tr>
<td><code class="prettyprint">description</code><br/><em>string</em></td>
<td>The description of the new tier</td>
</tr>
<tr>
<td><code class="prettyprint">vpcId</code><br/><em>UUID</em></td>
<td>The id of the VPC where to create the tier</td>
</tr>
<tr>
<td><code class="prettyprint">networkOfferingId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#network-offerings">network offering</a> to use for the tier</td>
</tr>
<tr>
<td><code class="prettyprint">networkAclId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#network-acls">network ACL</a> to use for the tier</td>
</tr>
</tbody></table>

<!-------------------- UPDATE A TIER -------------------->

<h4 id="update-a-tier">Update a tier</h4>
<pre class="highlight shell"><code>
<span class="c"># Example:</span>

curl -X PUT <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -d <span class="s2">"request_body"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/tiers/9572d2ea-a60d-478a-a75e-8ed31f2641f1"</span>

<span class="c"># Request example:</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_updated_tier"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My updated production tier"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">updatedTier</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">Tiers</span><span class="o">.</span><span class="n">Update</span><span class="p">(</span><span class="s">"9572d2ea-a60d-478a-a75e-8ed31f2641f1"</span><span class="p">,</span><span class="x"> </span><span class="n">cloudca</span><span class="o">.</span><span class="n">Tier</span><span class="p">{</span><span class="x">
        </span><span class="n">Name</span><span class="o">:</span><span class="x"> </span><span class="s">"my_updated_tier"</span><span class="p">,</span><span class="x">
        </span><span class="n">Description</span><span class="o">:</span><span class="x"> </span><span class="s">"My updated production tier"</span><span class="x">
    </span><span class="p">})</span><span class="x">
</span></code></pre>

<p><code>POST /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/tiers/9572d2ea-a60d-478a-a75e-8ed31f2641f1</code></p>

<p>Update an existing tier in an <a href="#environments">environment</a></p>

<table><thead>
<tr>
<th>Required</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code><br/><em>string</em></td>
<td>The updated name of the tier</td>
</tr>
<tr>
<td><code class="prettyprint">description</code><br/><em>string</em></td>
<td>The updated description of the tier</td>
</tr>
</tbody></table>

<!-------------------- DELETE A TIER -------------------->

<h4 id="delete-a-tier">Delete a tier</h4>
<pre class="highlight shell"><code>
<span class="c"># Example:</span>

curl -X DELETE <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/tiers/9572d2ea-a60d-478a-a75e-8ed31f2641f1"</span>
</code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">success</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">Tiers</span><span class="o">.</span><span class="n">Delete</span><span class="p">(</span><span class="s">"9572d2ea-a60d-478a-a75e-8ed31f2641f1"</span><span class="p">)</span><span class="x">
</span></code></pre>

<p><code>POST /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/tiers/9572d2ea-a60d-478a-a75e-8ed31f2641f1</code></p>

<p>Delete an existing tier in an <a href="#environments">environment</a> To delete a tier, you must first delete all the <a href="#instances">instances</a> in the tier.</p>

<!-------------------- REPLACE THE NETWORK ACL OF A TIER -------------------->

<h4 id="replace-the-network-acl-of-a-tier">Replace the network ACL of a tier</h4>
<pre class="highlight shell"><code>
<span class="c"># Example:</span>

curl -X POST <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -d <span class="s2">"request_body"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/tiers/9572d2ea-a60d-478a-a75e-8ed31f2641f1?operation=replace"</span>

<span class="c"># Request example:</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_updated_tier"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My updated production tier"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">success</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">Tiers</span><span class="o">.</span><span class="n">ChangeAcl</span><span class="p">(</span><span class="s">"9572d2ea-a60d-478a-a75e-8ed31f2641f1"</span><span class="p">,</span><span class="x"> </span><span class="s">"9ba3863e-2e1d-11e4-8e05-42a29a39fc92"</span><span class="p">)</span><span class="x">
</span></code></pre>

<p><code>POST /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/tiers/9572d2ea-a60d-478a-a75e-8ed31f2641f1?operation=replace</code></p>

<p>Replace the <a href="#network-acls">network ACL</a> of an existing tier.</p>

<table><thead>
<tr>
<th>Required</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">networkAclId</code><br/><em>string</em></td>
<td>The id of the <a href="#network-acls">network ACL</a> to use for the tier</td>
</tr>
</tbody></table>

              <!-- ACLs -->

<h3 id="network-acls">Network ACLs</h3>

<p>Manage access control lists and their rules. To apply an ACL to a tier, <a href="#replace-the-network-acl-of-a-tier">replace the ACL of a tier</a>.</p>

<h4 id="list-network-acls">List network ACLs</h4>
<pre class="highlight shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/networkacls?vpc_id=eb763d03-9935-4cd4-8a42-99134e242ccb"</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"736d0c2e-d6b5-43fc-bcf0-732fce9a509e"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"vpcId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eb763d03-9935-4cd4-8a42-99134e242ccb"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"custom-1"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allows network egress"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3246de94-e7e7-11e3-9187-06669c0000ad"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default_allow"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Default Network ACL Allow All"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"32467792-e7e7-11e3-9187-06669c0000ad"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default_deny"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Default Network ACL Deny All"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">acls</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">NetworkAcls</span><span class="o">.</span><span class="n">ListByVpcId</span><span class="p">(</span><span class="s">"eb763d03-9935-4cd4-8a42-99134e242ccb"</span><span class="p">)</span><span class="x">
</span></code></pre>

<p><code>GET /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/networkacls?vpc_id=:vpc_id</code></p>

<p>Retrieve a list of network ACLs in a VPC.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code><br/><em>UUID</em></td>
<td>The id of the network ACL</td>
</tr>
<tr>
<td><code class="prettyprint">name</code><br/><em>string</em></td>
<td>The name of the network ACL</td>
</tr>
<tr>
<td><code class="prettyprint">description</code><br/><em>string</em></td>
<td>The description of the network ACL</td>
</tr>
<tr>
<td><code class="prettyprint">vpcId</code><br/><em>UUID</em></td>
<td>The VPC where this rule is available. Not present on <code class="prettyprint">default_allow</code> and <code class="prettyprint">default_deny</code> ACLs</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Query Parameters</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">vpc_id</code><br/><em>UUID</em></td>
<td>Filter the list to only retrieve the network ACLs of a specific <a href="#vpcs">VPC</a></td>
</tr>
</tbody></table>

<h4 id="retrieve-a-network-acl">Retrieve a network ACL</h4>
<pre class="highlight shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/networkacls/:id"</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"736d0c2e-d6b5-43fc-bcf0-732fce9a509e"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"vpcId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eb763d03-9935-4cd4-8a42-99134e242ccb"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"custom-1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allows network egress"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">acl</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">NetworkAcls</span><span class="o">.</span><span class="n">Get</span><span class="p">(</span><span class="s">"736d0c2e-d6b5-43fc-bcf0-732fce9a509e"</span><span class="p">)</span><span class="x">
</span></code></pre>

<p><code>GET /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/networkacls/:id</code></p>

<p>Retrieve a specific network ACL by its id.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code><br/><em>UUID</em></td>
<td>The id of the network ACL</td>
</tr>
<tr>
<td><code class="prettyprint">name</code><br/><em>string</em></td>
<td>The name of the network ACL</td>
</tr>
<tr>
<td><code class="prettyprint">description</code><br/><em>string</em></td>
<td>The description of the network ACL</td>
</tr>
<tr>
<td><code class="prettyprint">vpcId</code><br/><em>UUID</em></td>
<td>The VPC where this rule is available. Not present on <code class="prettyprint">default_allow</code> and <code class="prettyprint">default_deny</code> ACLs</td>
</tr>
</tbody></table>

<h4 id="create-network-acl">Create network ACL</h4>
<pre class="highlight shell"><code>curl -X POST <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -d <span class="s2">"request_body"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/networkacls"</span>
</code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">acl</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">NetworkAcls</span><span class="o">.</span><span class="n">Create</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">NetworkAcl</span><span class="p">{</span><span class="x">
  </span><span class="n">Name</span><span class="o">:</span><span class="x"> </span><span class="s">"network-ingress"</span><span class="p">,</span><span class="x">
  </span><span class="n">Description</span><span class="o">:</span><span class="x"> </span><span class="s">"Allows network ingress"</span><span class="p">,</span><span class="x">
  </span><span class="n">VpcId</span><span class="o">:</span><span class="x"> </span><span class="s">"eb763d03-9935-4cd4-8a42-99134e242ccb"</span><span class="p">,</span><span class="x">
</span><span class="p">})</span><span class="x">
</span></code></pre>
<pre class="highlight dart"><code><span class="n">resource</span> <span class="s">"cloudca_network_acl"</span> <span class="s">"my_acl"</span> <span class="o">{</span>
  <span class="n">service_code</span> <span class="o">=</span> <span class="s">"compute-on"</span>
  <span class="n">environment_name</span> <span class="o">=</span> <span class="s">"test_area"</span>
  <span class="n">name</span> <span class="o">=</span> <span class="s">"network-ingress"</span>
  <span class="n">description</span> <span class="o">=</span> <span class="s">"Allows network ingress"</span>
  <span class="n">vpc_id</span> <span class="o">=</span> <span class="s">"eb763d03-9935-4cd4-8a42-99134e242ccb"</span>
<span class="o">}</span>
</code></pre>

<p><code>POST /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/networkacls</code></p>

<p>Create a new network ACL associated to a VPC.</p>

<table><thead>
<tr>
<th>Required</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code><br/><em>string</em></td>
<td>The name of the network ACL</td>
</tr>
<tr>
<td><code class="prettyprint">description</code><br/><em>string</em></td>
<td>The description of the network ACL</td>
</tr>
<tr>
<td><code class="prettyprint">vpcId</code><br/><em>UUID</em></td>
<td>Networks of this VPC will be able to use the new ACL</td>
</tr>
</tbody></table>

<h4 id="delete-a-network-acl">Delete a network ACL</h4>
<pre class="highlight shell"><code>curl -X DELETE <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/networkacls/736d0c2e-d6b5-43fc-bcf0-732fce9a509e"</span>
</code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">success</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">NetworkAcls</span><span class="o">.</span><span class="n">Delete</span><span class="p">(</span><span class="s">"736d0c2e-d6b5-43fc-bcf0-732fce9a509e"</span><span class="p">)</span><span class="x">
</span></code></pre>

<p><code>DELETE /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/networkacls/:id</code></p>

<p>Delete an ACL and all of its rules.</p>

<!-- ACL rules -->

<h4 id="list-a-network-acl-39-s-rules">List a network ACL&rsquo;s rules</h4>
<pre class="highlight shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/networkaclrules?network_acl_id=3246de94-e7e7-11e3-9187-06669c0000ad"</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3247167a-e7e7-11e3-9187-06669c0000ad"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"networkAclId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3246de94-e7e7-11e3-9187-06669c0000ad"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"ruleNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"cidr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0.0.0/0"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allow"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"protocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ALL"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"trafficType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Egress"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3246fdb6-e7e7-11e3-9187-06669c0000ad"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"networkAclId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3246de94-e7e7-11e3-9187-06669c0000ad"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"ruleNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"cidr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0.0.0/0"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allow"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"protocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ALL"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"trafficType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ingress"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">rules</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">NetworkAclRules</span><span class="o">.</span><span class="n">ListByNetworkAclId</span><span class="p">(</span><span class="s">"3246de94-e7e7-11e3-9187-06669c0000ad"</span><span class="p">)</span><span class="x">
</span></code></pre>

<p><code>GET /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/networkaclrules?network_acl_id=:network_acl_id</code></p>

<p>List a network ACL&rsquo;s rules.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code><br/><em>UUID</em></td>
<td>The id of the network ACL rule</td>
</tr>
<tr>
<td><code class="prettyprint">networkAclId</code><br/><em>UUID</em></td>
<td>The id of the network ACL that this rule belongs to</td>
</tr>
<tr>
<td><code class="prettyprint">ruleNumber</code><br/><em>int</em></td>
<td>The relative position of this rule in its ACL</td>
</tr>
<tr>
<td><code class="prettyprint">cidr</code><br/><em>CIDR</em></td>
<td>The network addresses targeted by this rule</td>
</tr>
<tr>
<td><code class="prettyprint">action</code><br/><em>string</em></td>
<td>What to do with traffic matched by this rule. Either Allow or Deny</td>
</tr>
<tr>
<td><code class="prettyprint">protocol</code><br/><em>string</em></td>
<td>The protocols targeted by this rule. TCP, UDP, ICMP, or ALL</td>
</tr>
<tr>
<td><code class="prettyprint">trafficType</code><br/><em>string</em></td>
<td>The direction of traffic targeted by this rule. Either Ingress or Egress</td>
</tr>
<tr>
<td><code class="prettyprint">state</code><br/><em>string</em></td>
<td>The state of this rule. Either Active or Inactive</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Query Parameters</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">network_acl_id</code><br/><em>UUID</em></td>
<td>Filter the list to only retrieve the rules of a specific <a href="#network-acls">network ACL</a></td>
</tr>
</tbody></table>

<h4 id="retrieve-a-network-acl-rule">Retrieve a network ACL rule</h4>
<pre class="highlight shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/networkaclrules/3247167a-e7e7-11e3-9187-06669c0000ad"</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3247167a-e7e7-11e3-9187-06669c0000ad"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"networkAclId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3246de94-e7e7-11e3-9187-06669c0000ad"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ruleNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cidr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0.0.0/0"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allow"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"protocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ALL"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"trafficType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Egress"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">rules</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">NetworkAclRules</span><span class="o">.</span><span class="n">Get</span><span class="p">(</span><span class="s">"3247167a-e7e7-11e3-9187-06669c0000ad"</span><span class="p">)</span><span class="x">
</span></code></pre>

<p><code>GET /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/networkaclrules/:id</code></p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code><br/><em>UUID</em></td>
<td>The id of the network ACL rule</td>
</tr>
<tr>
<td><code class="prettyprint">networkAclId</code><br/><em>UUID</em></td>
<td>The id of the network ACL that this rule belongs to</td>
</tr>
<tr>
<td><code class="prettyprint">ruleNumber</code><br/><em>int</em></td>
<td>The relative position of this rule in its ACL</td>
</tr>
<tr>
<td><code class="prettyprint">cidr</code><br/><em>CIDR</em></td>
<td>The network addresses targeted by this rule</td>
</tr>
<tr>
<td><code class="prettyprint">action</code><br/><em>string</em></td>
<td>What to do with traffic matched by this rule. Either Allow or Deny</td>
</tr>
<tr>
<td><code class="prettyprint">protocol</code><br/><em>string</em></td>
<td>The protocols targeted by this rule. TCP, UDP, ICMP, or ALL</td>
</tr>
<tr>
<td><code class="prettyprint">trafficType</code><br/><em>string</em></td>
<td>The direction of traffic targeted by this rule. Either Ingress or Egress</td>
</tr>
<tr>
<td><code class="prettyprint">state</code><br/><em>string</em></td>
<td>The state of this rule. Either Active or Inactive</td>
</tr>
</tbody></table>

<h4 id="create-a-network-acl-rule">Create a network ACL rule</h4>
<pre class="highlight shell"><code>curl -X POST <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -d <span class="s2">"request_body"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/networkaclrules"</span>
</code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">rule</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">NetworkAclRules</span><span class="o">.</span><span class="n">Create</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">NetworkAclRule</span><span class="p">{</span><span class="x">
  </span><span class="n">NetworkAclId</span><span class="o">:</span><span class="x"> </span><span class="s">"3247167a-e7e7-11e3-9187-06669c0000ad"</span><span class="p">,</span><span class="x">
  </span><span class="n">RuleNumber</span><span class="o">:</span><span class="x"> </span><span class="m">1</span><span class="p">,</span><span class="x">
  </span><span class="n">Cidr</span><span class="o">:</span><span class="x"> </span><span class="s">"0.0.0.0/0"</span><span class="p">,</span><span class="x">
  </span><span class="n">Action</span><span class="o">:</span><span class="x"> </span><span class="s">"Deny"</span><span class="p">,</span><span class="x">
  </span><span class="n">TrafficType</span><span class="o">:</span><span class="x"> </span><span class="s">"Ingress"</span><span class="p">,</span><span class="x">
  </span><span class="n">Protocol</span><span class="o">:</span><span class="x"> </span><span class="s">"ALL"</span><span class="p">,</span><span class="x">
</span><span class="p">})</span><span class="x">
</span></code></pre>
<pre class="highlight dart"><code><span class="n">resource</span> <span class="s">"cloudca_network_acl_rule"</span> <span class="s">"my_acl_rule"</span> <span class="o">{</span>
  <span class="n">service_code</span> <span class="o">=</span> <span class="s">"compute-on"</span>
  <span class="n">environment_name</span> <span class="o">=</span> <span class="s">"test_area"</span>
  <span class="n">network_acl_id</span> <span class="o">=</span> <span class="s">"3247167a-e7e7-11e3-9187-06669c0000ad"</span>
  <span class="n">rule_number</span> <span class="o">=</span> <span class="mi">1</span>
  <span class="n">cidr</span> <span class="o">=</span> <span class="s">"0.0.0.0/0"</span>
  <span class="n">action</span> <span class="o">=</span> <span class="s">"Deny"</span>
  <span class="n">traffic_type</span> <span class="o">=</span> <span class="s">"Ingress"</span>
  <span class="n">protocol</span> <span class="o">=</span> <span class="s">"ALL"</span>
<span class="o">}</span>
</code></pre>

<p><code>POST /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/networkaclrules</code></p>

<table><thead>
<tr>
<th>Required</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">networkAclId</code><br/><em>UUID</em></td>
<td>The id of the network ACL to add this rule to</td>
</tr>
<tr>
<td><code class="prettyprint">ruleNumber</code><br/><em>int</em></td>
<td>The relative position of this rule in its ACL</td>
</tr>
<tr>
<td><code class="prettyprint">cidr</code><br/><em>CIDR</em></td>
<td>The network addresses targeted by this rule</td>
</tr>
<tr>
<td><code class="prettyprint">action</code><br/><em>string</em></td>
<td>What to do with traffic matched by this rule. Either Allow or Deny</td>
</tr>
<tr>
<td><code class="prettyprint">protocol</code><br/><em>string</em></td>
<td>The protocols targeted by this rule. TCP, UDP, ICMP, or ALL</td>
</tr>
<tr>
<td><code class="prettyprint">trafficType</code><br/><em>string</em></td>
<td>The direction of traffic targeted by this rule. Either Ingress or Egress</td>
</tr>
</tbody></table>

<aside class="notice">
For rules with protocol <code>ALL</code>, no protocol-specific information is required. For all other protocols, see the protocol-specific fields below.
</aside>

<table><thead>
<tr>
<th>Protocol-specific</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">startPort</code><br/><em>int</em></td>
<td>The start of the port range targeted by this rule. Required if the protocol is TCP or UDP</td>
</tr>
<tr>
<td><code class="prettyprint">endPort</code><br/><em>int</em></td>
<td>The end of the port range targeted by this rule. Required if the protocol is TCP or UDP</td>
</tr>
<tr>
<td><code class="prettyprint">icmpType</code><br/><em>int</em></td>
<td>ICMP message type. Required if the protocol is ICMP</td>
</tr>
<tr>
<td><code class="prettyprint">icmpCode</code><br/><em>int</em></td>
<td>ICMP message error code. Required if the protocol is ICMP</td>
</tr>
</tbody></table>

<h4 id="update-a-network-acl-rule">Update a network ACL rule</h4>
<pre class="highlight shell"><code>curl -X PUT <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -d <span class="s2">"request_body"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/networkaclrules/3247167a-e7e7-11e3-9187-06669c0000ad"</span>
</code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">rule</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">NetworkAclRules</span><span class="o">.</span><span class="n">Update</span><span class="p">(</span><span class="s">"3247167a-e7e7-11e3-9187-06669c0000ad"</span><span class="p">,</span><span class="x"> </span><span class="n">cloudca</span><span class="o">.</span><span class="n">NetworkAclRule</span><span class="p">{</span><span class="x">
  </span><span class="n">RuleNumber</span><span class="o">:</span><span class="x"> </span><span class="m">3</span><span class="p">,</span><span class="x">
  </span><span class="n">Action</span><span class="o">:</span><span class="x"> </span><span class="s">"Allow"</span><span class="p">,</span><span class="x">
</span><span class="p">})</span><span class="x">
</span></code></pre>

<p><code>PUT /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/networkaclrules/:id</code></p>

<p>Update a network ACL rule.</p>

<aside class="notice">
A rule&rsquo;s protocol can only be changed from TCP to UDP or vice versa.
</aside>

<table><thead>
<tr>
<th>Optional</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">ruleNumber</code><br/><em>int</em></td>
<td>The relative position of this rule in its ACL</td>
</tr>
<tr>
<td><code class="prettyprint">cidr</code><br/><em>CIDR</em></td>
<td>The network addresses targeted by this rule</td>
</tr>
<tr>
<td><code class="prettyprint">action</code><br/><em>string</em></td>
<td>What to do with traffic matched by this rule. Either Allow or Deny</td>
</tr>
<tr>
<td><code class="prettyprint">protocol</code><br/><em>string</em></td>
<td>The protocols targeted by this rule. TCP, UDP, ICMP, or ALL</td>
</tr>
<tr>
<td><code class="prettyprint">trafficType</code><br/><em>string</em></td>
<td>The direction of traffic targeted by this rule. Either Ingress or Egress</td>
</tr>
<tr>
<td><code class="prettyprint">startPort</code><br/><em>int</em></td>
<td>The start of the port range targeted by this rule</td>
</tr>
<tr>
<td><code class="prettyprint">endPort</code><br/><em>int</em></td>
<td>The end of the port range targeted by this rule</td>
</tr>
<tr>
<td><code class="prettyprint">icmpType</code><br/><em>int</em></td>
<td>ICMP message type</td>
</tr>
<tr>
<td><code class="prettyprint">icmpCode</code><br/><em>int</em></td>
<td>ICMP message error code</td>
</tr>
</tbody></table>

<h4 id="delete-a-network-acl-rule">Delete a network ACL rule</h4>
<pre class="highlight shell"><code>curl -X DELETE <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/networkaclrules/3247167a-e7e7-11e3-9187-06669c0000ad"</span>
</code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">success</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">NetworkAclRules</span><span class="o">.</span><span class="n">Delete</span><span class="p">(</span><span class="s">"3247167a-e7e7-11e3-9187-06669c0000ad"</span><span class="p">)</span><span class="x">
</span></code></pre>

<p><code>DELETE /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/networkaclrules/:id</code></p>

<p>Delete a specific rule of a network ACL.</p>

              <h3 id="public-ips">Public IPs</h3>

<h4 id="list-public-ips">List public IPs</h4>
<pre class="highlight shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/publicipaddresses"</span>

<span class="c"># Example:</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0ed72307-e33d-4d41-90b7-7d2b4f0d1ae0"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"instances"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
               </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"986cfea3-4a94-407d-b915-eb2d49e4323f"</span><span class="p">,</span><span class="w">
               </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"i-pdube-F49"</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">],</span><span class="w">
         </span><span class="nt">"ipAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"69.196.164.98"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"networkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"def89cb6-f897-435a-ad7f-6b2d05ab11e6"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"networkName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"purposes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"PORT_FORWARDING"</span><span class="w">
         </span><span class="p">],</span><span class="w">
         </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allocated"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"vpcId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0687f5ce-89f9-47c8-9f58-c522455d56eb"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"vpcName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"secondary"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"zoneId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ea901007-056b-4c50-bb3a-2dd635fce2ab"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"zoneName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ON-1"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10001e7d-b4ef-489b-836e-0619a383bc8d"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"ipAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"208.80.152.201"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"purposes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"SOURCE_NAT"</span><span class="w">
         </span><span class="p">],</span><span class="w">
         </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allocated"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"vpcId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0687f5ce-89f9-47c8-9f58-c522455d56eb"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"vpcName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"primary"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"zoneId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ea901007-056b-4c50-bb3a-2dd635fce2ab"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"zoneName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ON-1"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">],</span><span class="w">
   </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">publicIps</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">PublicIps</span><span class="o">.</span><span class="n">List</span><span class="p">()</span><span class="x">
</span></code></pre>

<p><code>GET /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/publicipaddresses</code></p>

<p>List allocated public IP addresses.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code><br/><em>UUID</em></td>
<td>The id of the public IP</td>
</tr>
<tr>
<td><code class="prettyprint">instances</code><br/><em>Array[<a href="#instances">Instance</a>]</em></td>
<td>The associated <a href="#instances">instances</a> <br/><em>includes</em>: <code class="prettyprint">id</code>,<code class="prettyprint">name</code></td>
</tr>
<tr>
<td><code class="prettyprint">ipAddress</code><br/><em>string</em></td>
<td>The IP address (e.g. 208.80.154.224)</td>
</tr>
<tr>
<td><code class="prettyprint">networkId</code><br/><em>UUID</em></td>
<td>The associated <a href="#networks">tier</a> id</td>
</tr>
<tr>
<td><code class="prettyprint">networkName</code><br/><em>string</em></td>
<td>The associated <a href="#networks">tier</a> name</td>
</tr>
<tr>
<td><code class="prettyprint">purposes</code><br/><em>Array[string]</em></td>
<td>The list of purposes of the IP address.</br><em>Possible values:</em> <code class="prettyprint">STATIC_NAT</code>, <code class="prettyprint">PORT_FORWARDING</code>, <code class="prettyprint">LOAD_BALANCING</code>, <code class="prettyprint">SOURCE_NAT</code> or <code class="prettyprint">SOURCE_NAT</code> and <code class="prettyprint">VPN</code></td>
</tr>
<tr>
<td><code class="prettyprint">state</code><br/><em>string</em></td>
<td>The state of the public IP</td>
</tr>
<tr>
<td><code class="prettyprint">vpcId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#vpcs">VPC</a></td>
</tr>
<tr>
<td><code class="prettyprint">vpcName</code><br/><em>string</em></td>
<td>The name of the <a href="#vpcs">VPC</a></td>
</tr>
<tr>
<td><code class="prettyprint">zoneId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#zones">zone</a></td>
</tr>
<tr>
<td><code class="prettyprint">zoneName</code><br/><em>string</em></td>
<td>The name of the <a href="#zones">zone</a></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Query Parameters</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">vpc_id</code><br/><em>UUID</em></td>
<td>Filter the list to only retrieve the public IPs in a specific <a href="#vpcs">VPC</a></td>
</tr>
<tr>
<td><code class="prettyprint">instance_id</code><br/><em>UUID</em></td>
<td>Filter the list to only retrieve the public IPs associated to a specific <a href="#instances">instance</a></td>
</tr>
</tbody></table>

<h4 id="retrieve-a-public-ip">Retrieve a public IP</h4>
<pre class="highlight shell"><code>curl -X GET -H <span class="s2">"MC-Api-Key: your_api_key"</span>
<span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/publicipaddresses/10001e7d-b4ef-489b-836e-0619a383bc8d"</span>

<span class="c"># Example:</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10001e7d-b4ef-489b-836e-0619a383bc8d"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"ipAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"208.80.152.201"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"purposes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"SOURCE_NAT"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allocated"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"vpcId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0687f5ce-89f9-47c8-9f58-c522455d56eb"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"vpcName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"primary"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"zoneId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ea901007-056b-4c50-bb3a-2dd635fce2ab"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"zoneName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ON-1"</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">publicIp</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">PublicIps</span><span class="o">.</span><span class="n">Get</span><span class="p">(</span><span class="s">"10001e7d-b4ef-489b-836e-0619a383bc8d"</span><span class="p">)</span><span class="x">
</span></code></pre>

<p><code>GET /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/publicipaddresses/:id</code></p>

<p>Retrieve a public IP address.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code><br/><em>UUID</em></td>
<td>The id of the public IP</td>
</tr>
<tr>
<td><code class="prettyprint">instances</code><br/><em>Array[<a href="#instances">Instance</a>]</em></td>
<td>The associated <a href="#instances">instances</a> <br/><em>includes</em>: <code class="prettyprint">id</code>,<code class="prettyprint">name</code></td>
</tr>
<tr>
<td><code class="prettyprint">ipAddress</code><br/><em>string</em></td>
<td>The IP address (e.g. 208.80.154.224)</td>
</tr>
<tr>
<td><code class="prettyprint">networkId</code><br/><em>UUID</em></td>
<td>The associated <a href="#networks">tier</a> id</td>
</tr>
<tr>
<td><code class="prettyprint">networkName</code><br/><em>string</em></td>
<td>The associated <a href="#networks">tier</a> name</td>
</tr>
<tr>
<td><code class="prettyprint">purposes</code><br/><em>Array[string]</em></td>
<td>The list of purposes of the IP address.</br><em>Possible values:</em> <code class="prettyprint">STATIC_NAT</code>, <code class="prettyprint">PORT_FORWARDING</code>, <code class="prettyprint">LOAD_BALANCING</code>, <code class="prettyprint">SOURCE_NAT</code> or <code class="prettyprint">SOURCE_NAT</code> and <code class="prettyprint">VPN</code></td>
</tr>
<tr>
<td><code class="prettyprint">state</code><br/><em>string</em></td>
<td>The state of the public IP</td>
</tr>
<tr>
<td><code class="prettyprint">vpcId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#vpcs">VPC</a></td>
</tr>
<tr>
<td><code class="prettyprint">vpcName</code><br/><em>string</em></td>
<td>The name of the <a href="#vpcs">VPC</a></td>
</tr>
<tr>
<td><code class="prettyprint">zoneId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#zones">zone</a></td>
</tr>
<tr>
<td><code class="prettyprint">zoneName</code><br/><em>string</em></td>
<td>The name of the <a href="#zones">zone</a></td>
</tr>
</tbody></table>

<h4 id="acquire-a-public-ip">Acquire a public IP</h4>
<pre class="highlight shell"><code>curl -X POST <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -d <span class="s2">"request_body"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/publicipaddresses"</span>

<span class="c"># Request should look like this</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"vpcId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0687f5ce-89f9-47c8-9f58-c522455d56eb"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><code>POST /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/publicipaddresses</code></p>

<p>Acquire a public IP address for a <a href="#vpcs">VPC</a>.</p>

<table><thead>
<tr>
<th>Required</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">vpcId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#vpcs">VPC</a> where to acquire the public IP</td>
</tr>
</tbody></table>

<h4 id="release-a-public-ip">Release a public IP</h4>
<pre class="highlight shell"><code>curl -X DELETE <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/publicipaddresses/a723b2b1-e343-4ea1-afe0-bf345a99a92b"</span>
</code></pre>

<p><code>DELETE /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/publicipaddresses/:id</code></p>

<p>Release a public IP. When acquiring a public IP, you are not guaranteed to receive a previously owned public IP, so be careful when releasing public IPs.</p>

<h4 id="enable-static-nat">Enable static NAT</h4>
<pre class="highlight shell"><code>curl -X POST <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -d <span class="s2">"request_body"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/publicipaddresses/a723b2b1-e343-4ea1-afe0-bf345a99a92b?operation=enableStaticNat"</span>

<span class="c"># Request should look like this</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"privateIpId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5e30609d-7098-4d93-8317-3ecfe316ed00"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><code>POST /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/publicipaddresses/:id?operation=enableStaticNat</code></p>

<p>Enable static NAT on a public IP address.</p>

<table><thead>
<tr>
<th>Required</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">privateIpId</code><br/><em>string</em></td>
<td>The private IP id of the <a href="#instances">instance</a> which is to be available on that IP. It can also be done on a secondary IP id.</td>
</tr>
</tbody></table>

<h4 id="disable-static-nat">Disable static NAT</h4>
<pre class="highlight shell"><code>curl -X POST <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/publicipaddresses/a723b2b1-e343-4ea1-afe0-bf345a99a92b?operation=disableStaticNat"</span>

</code></pre>

<p><code>POST /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/publicipaddresses/:id?operation=disableStaticNat</code></p>

<p>Disable static NAT on that public IP.</p>

              <h3 id="port-forwarding-rules">Port forwarding rules</h3>

<p>Port forwarding allows traffic from external hosts to services offered by applications in your <a href="#vpcs">VPCs</a>. A port forwarding rule is a mapping of public IP ports to <a href="#nics">private IP</a> ports (i.e. forwards traffic from a public IP to an instance).</p>

<!-------------------- LIST PORT FORWARDING RULES -------------------->

<h4 id="list-port-forwarding-rules">List port forwarding rules</h4>
<pre class="highlight shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/portforwardingrules"</span>

<span class="c"># Example response:</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bf145d1e-7beb-42b8-bd2c-1a316aeb9aef"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ipAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"74.121.244.23"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ipAddressId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"747e30d0-a0cd-48ba-b7d8-77a2f7e10504"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"privatePortStart"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8080"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"privatePortEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8080"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"publicPortStart"</span><span class="p">:</span><span class="w"> </span><span class="s2">"80"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"publicPortEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"80"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"protocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TCP"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"instanceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d7328dd9-882e-4d08-8ad2-c74c2d493689"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"instanceName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_app_instance"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"networkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7388f551-4163-4467-b49b-58e9310d7207"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"vpcId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"39907f0a-c253-42b8-b02d-337e00e9851e"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"privateIp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.155.24.145"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"privateIpId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.155.24.145   "</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">portForwardingRules</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">PortForwardingRules</span><span class="o">.</span><span class="n">List</span><span class="p">()</span><span class="x">
</span></code></pre>

<p><code>GET /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/portforwardingrules</code></p>

<p>Retrieve a list of all port forwarding rules of an environment.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code><br/><em>UUID</em></td>
<td>The id of the port forwarding rule</td>
</tr>
<tr>
<td><code class="prettyprint">ipAddress</code><br/><em>string</em></td>
<td>The ip address of the <a href="#public-ips">public IP</a> associated to this port forwarding rule</td>
</tr>
<tr>
<td><code class="prettyprint">ipAddressId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#public-ips">public IP</a> associated to this port forwarding rule</td>
</tr>
<tr>
<td><code class="prettyprint">privatePortStart</code><br/><em>string</em></td>
<td>The start of the private port range</td>
</tr>
<tr>
<td><code class="prettyprint">privatePortEnd</code><br/><em>string</em></td>
<td>The end of the private port range</td>
</tr>
<tr>
<td><code class="prettyprint">publicPortStart</code><br/><em>string</em></td>
<td>The start of the public port range</td>
</tr>
<tr>
<td><code class="prettyprint">publicPortEnd</code><br/><em>string</em></td>
<td>The end of the public port range</td>
</tr>
<tr>
<td><code class="prettyprint">protocol</code><br/><em>string</em></td>
<td>The protocol of the port forwarding rule (e.g. TCP, UDP)</td>
</tr>
<tr>
<td><code class="prettyprint">instanceId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#instances">instance</a> of the port forwarding rule</td>
</tr>
<tr>
<td><code class="prettyprint">instanceName</code><br/><em>string</em></td>
<td>The name of the <a href="#instances">instance</a> of the port forwarding rule</td>
</tr>
<tr>
<td><code class="prettyprint">networkId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#tiers">tier</a> of the port forwarding rule</td>
</tr>
<tr>
<td><code class="prettyprint">vpcId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#vpcs">VPC</a> of the port forwarding rule</td>
</tr>
<tr>
<td><code class="prettyprint">privateIp</code><br/><em>string</em></td>
<td>The private IP address of the <a href="#instances">instance</a> where the traffic will be forwarded</td>
</tr>
<tr>
<td><code class="prettyprint">privateIpId</code><br/><em>UUID</em></td>
<td>The id of private IP address of the <a href="#instances">instance</a> where traffic will be forwarded</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Query Parameters</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">instance_id</code><br/><em>UUID</em></td>
<td>Filter the list to only retrieve the port forwarding rules of an <a href="#instances">instance</a></td>
</tr>
</tbody></table>

<!-------------------- RETRIEVE A PORT FORWARDING RULE -------------------->

<h4 id="retrieve-a-port-forwarding-rule">Retrieve a port forwarding rule</h4>
<pre class="highlight shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/portforwardingrules/ad5bcae8-ee8b-4ee8-a7a4-381c25444b8e"</span>

<span class="c"># Example response:</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bf145d1e-7beb-42b8-bd2c-1a316aeb9aef"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ipAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"74.121.244.23"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ipAddressId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"747e30d0-a0cd-48ba-b7d8-77a2f7e10504"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"privatePortStart"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8080"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"privatePortEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8080"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"publicPortStart"</span><span class="p">:</span><span class="w"> </span><span class="s2">"80"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"publicPortEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"80"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"protocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TCP"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"instanceName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_app_instance"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"instanceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d7328dd9-882e-4d08-8ad2-c74c2d493689"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"networkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7388f551-4163-4467-b49b-58e9310d7207"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"vpcId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"39907f0a-c253-42b8-b02d-337e00e9851e"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"privateIp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.155.24.145"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"privateIpId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fc9d60a5-a8f8-4d01-a63f-f1731440063f"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">portForwardingRule</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">PortForwardingRule</span><span class="o">.</span><span class="n">Get</span><span class="p">(</span><span class="s">"bf145d1e-7beb-42b8-bd2c-1a316aeb9aef"</span><span class="p">)</span><span class="x">
</span></code></pre>

<p><code>GET /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/portforwardingrules/:id</code></p>

<p>Retrieve information about a port forwarding rule.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code><br/><em>UUID</em></td>
<td>The id of the port forwarding rule</td>
</tr>
<tr>
<td><code class="prettyprint">ipAddress</code><br/><em>string</em></td>
<td>The ip address of the <a href="#public-ips">public IP</a> associated to this port forwarding rule</td>
</tr>
<tr>
<td><code class="prettyprint">ipAddressId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#public-ips">public IP</a> associated to this port forwarding rule</td>
</tr>
<tr>
<td><code class="prettyprint">privatePortStart</code><br/><em>string</em></td>
<td>The start of the private port range</td>
</tr>
<tr>
<td><code class="prettyprint">privatePortEnd</code><br/><em>string</em></td>
<td>The end of the private port range</td>
</tr>
<tr>
<td><code class="prettyprint">publicPortStart</code><br/><em>string</em></td>
<td>The start of the public port range</td>
</tr>
<tr>
<td><code class="prettyprint">publicPortEnd</code><br/><em>string</em></td>
<td>The end of the public port range</td>
</tr>
<tr>
<td><code class="prettyprint">protocol</code><br/><em>string</em></td>
<td>The protocol of the port forwarding rule (e.g. TCP, UDP)</td>
</tr>
<tr>
<td><code class="prettyprint">instanceId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#instances">instance</a> of the port forwarding rule</td>
</tr>
<tr>
<td><code class="prettyprint">instanceName</code><br/><em>string</em></td>
<td>The name of the <a href="#instances">instance</a> of the port forwarding rule</td>
</tr>
<tr>
<td><code class="prettyprint">networkId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#tiers">tier</a> of the port forwarding rule</td>
</tr>
<tr>
<td><code class="prettyprint">vpcId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#vpcs">VPC</a> of the port forwarding rule</td>
</tr>
<tr>
<td><code class="prettyprint">privateIp</code><br/><em>string</em></td>
<td>The private IP address of the <a href="#instances">instance</a> where requests will be forwarded</td>
</tr>
<tr>
<td><code class="prettyprint">privateIpId</code><br/><em>UUID</em></td>
<td>The id of private IP address of the <a href="#instances">instance</a> where requests will be forwarded</td>
</tr>
</tbody></table>

<!-------------------- CREATE A PORT FORWARDING RULE -------------------->

<h4 id="create-a-port-forwarding-rule">Create a port forwarding rule</h4>
<pre class="highlight shell"><code>
<span class="c"># Example:</span>

curl -X POST <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -d <span class="s2">"request_body"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/portforwardingrules"</span>

<span class="c"># Request example:</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"ipAddressId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4daf6ce5-a8b1-47d2-96b3-8edda63d891c"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"instanceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0ec9ee23-f9dd-4830-acb6-7f8d4469673a"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"protocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TCP"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"privatePortStart"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8080"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"privatePortEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8080"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"publicPortStart"</span><span class="p">:</span><span class="w"> </span><span class="s2">"80"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"publicPortEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"80"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">createdVpc</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">PortForwardingRules</span><span class="o">.</span><span class="n">Create</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">PortForwardingRule</span><span class="p">{</span><span class="x">
        </span><span class="n">PublicIpId</span><span class="o">:</span><span class="x"> </span><span class="s">"4daf6ce5-a8b1-47d2-96b3-8edda63d891c"</span><span class="x">
        </span><span class="n">InstanceId</span><span class="o">:</span><span class="x"> </span><span class="s">"0ec9ee23-f9dd-4830-acb6-7f8d4469673a"</span><span class="p">,</span><span class="x">
        </span><span class="n">Protocol</span><span class="o">:</span><span class="x"> </span><span class="s">"TCP"</span><span class="p">,</span><span class="x">
        </span><span class="n">PrivatePortStart</span><span class="o">:</span><span class="x"> </span><span class="s">"8080"</span><span class="p">,</span><span class="x">
        </span><span class="n">PrivatePortEnd</span><span class="o">:</span><span class="x"> </span><span class="s">"8080"</span><span class="p">,</span><span class="x">
        </span><span class="n">PublicPortStart</span><span class="o">:</span><span class="x"> </span><span class="s">"80"</span><span class="p">,</span><span class="x">
        </span><span class="n">PublicPortEnd</span><span class="o">:</span><span class="x"> </span><span class="s">"80"</span><span class="x">
    </span><span class="p">})</span><span class="x">
</span></code></pre>
<pre class="highlight dart"><code><span class="n">resource</span> <span class="s">"cloudca_port_forwarding_rule"</span> <span class="s">"web_pfr"</span> <span class="o">{</span>
    <span class="n">service_code</span> <span class="o">=</span> <span class="s">"compute-on"</span>
    <span class="n">environment_name</span> <span class="o">=</span> <span class="s">"test_area"</span>

    <span class="n">public_ip_id</span> <span class="o">=</span> <span class="s">"4daf6ce5-a8b1-47d2-96b3-8edda63d891c"</span>
    <span class="n">public_port_start</span> <span class="o">=</span> <span class="mi">80</span>
    <span class="n">private_ip_id</span> <span class="o">=</span> <span class="s">"30face92-f1cf-4064-aa7f-008ea09ef7f0"</span>
    <span class="n">private_port_start</span> <span class="o">=</span> <span class="mi">8080</span>
    <span class="n">protocol</span> <span class="o">=</span> <span class="s">"TCP"</span>
<span class="o">}</span>
</code></pre>

<p><code>POST /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/portforwardingrules</code></p>

<p>Create a port forwarding rule for a <a href="#public-ips">public IP</a>.</p>

<table><thead>
<tr>
<th>Required</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">ipAddressId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#public-ips">public IP</a> where the port forwarding should be created</td>
</tr>
<tr>
<td><code class="prettyprint">protocol</code><br/><em>string</em></td>
<td>The protocol (e.g. TCP, UDP) to forward</td>
</tr>
<tr>
<td><code class="prettyprint">privatePortStart</code><br/><em>string</em></td>
<td>The start of the private port range</td>
</tr>
<tr>
<td><code class="prettyprint">privatePortEnd</code><br/><em>string</em></td>
<td>The end of the private port range</td>
</tr>
<tr>
<td><code class="prettyprint">publicPortStart</code><br/><em>string</em></td>
<td>The start of the public port range</td>
</tr>
<tr>
<td><code class="prettyprint">publicPortEnd</code><br/><em>string</em></td>
<td>The end of the public port range</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Optional</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">instanceId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#instances">instance</a> that will have a port forwarded (it will use the default private port)</td>
</tr>
<tr>
<td><code class="prettyprint">privateIpId</code><br/><em>UUID</em></td>
<td>The id of the private IP to forward</td>
</tr>
</tbody></table>

<!-------------------- DELETE A PORT FORWARDING RULE -------------------->

<h4 id="delete-a-port-forwarding-rule">Delete a port forwarding rule</h4>
<pre class="highlight shell"><code>
<span class="c"># Example:</span>

curl -X DELETE <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/portforwardingrules/7d22b390-cbb3-4df6-96c6-52901ccb63c0"</span>
</code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">success</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">PortForwardingRules</span><span class="o">.</span><span class="n">Delete</span><span class="p">(</span><span class="s">"7d22b390-cbb3-4df6-96c6-52901ccb63c0"</span><span class="p">)</span><span class="x">
</span></code></pre>

<p><code>DELETE /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/portforwardingrules/:id</code></p>

<p>Delete an existing port forwarding rule.</p>

              <h3 id="nics">NICs</h3>

<!-------------------- LIST NICS -------------------->

<h4 id="list-nics">List NICs</h4>
<pre class="highlight shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/nics"</span>

<span class="c"># Example response:</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fff1f45a-8350-4c87-be43-947b96d01ebd"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NIC-0"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ipAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.169.253.165"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"isDefault"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"networkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d2243d4c-0dd8-4f8c-9ab4-4b1d285d5642"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"networkName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Backend"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"gateway"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.169.253.1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"netmask"</span><span class="p">:</span><span class="w"> </span><span class="s2">"255.255.255.0"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"instanceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b6145e8b-abd3ta-456c-832c-f3db86a6acfe"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"vpcId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5aa9f5d7-55a9-43bf-bd2c-78a6bae1b267"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"vpcName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default-vpc"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"secondaryIps"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9c28e297-5d23-41a3-a167-34dc24f1df19"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ipAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.169.253.124"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><code>GET <a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/portforwardingrules</code></p>

<p>Retrieve a list of all NICs.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code><br/><em>UUID</em></td>
<td>The id of the NIC</td>
</tr>
<tr>
<td><code class="prettyprint">name</code><br/><em>string</em></td>
<td>The name of the NIC</td>
</tr>
<tr>
<td><code class="prettyprint">ipAddress</code><br/><em>string</em></td>
<td>The IP address of the NIC</td>
</tr>
<tr>
<td><code class="prettyprint">isDefault</code><br/><em>string</em></td>
<td>true if it&rsquo;s the default NIC of the <a href="#instances">instance</a> (i.e. it will be the private IP on the instance)</td>
</tr>
<tr>
<td><code class="prettyprint">networkId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#tiers">tier</a> of the NIC</td>
</tr>
<tr>
<td><code class="prettyprint">networkName</code><br/><em>string</em></td>
<td>The name of the <a href="#tiers">tier</a> of the NIC</td>
</tr>
<tr>
<td><code class="prettyprint">gateway</code><br/><em>string</em></td>
<td>The gateway of the <a href="#tiers">tier</a> associated with the NIC</td>
</tr>
<tr>
<td><code class="prettyprint">netmask</code><br/><em>string</em></td>
<td>The netmask of the <a href="#tiers">tier</a> associated with the NIC</td>
</tr>
<tr>
<td><code class="prettyprint">instanceId</code><br/><em>string</em></td>
<td>The id of the instance associated with the NIC</td>
</tr>
<tr>
<td><code class="prettyprint">vpcId</code><br/><em>string</em></td>
<td>The id of the <a href="#vpcs">VPC</a> associated with the NIC</td>
</tr>
<tr>
<td><code class="prettyprint">vpcName</code><br/><em>string</em></td>
<td>The name of the <a href="#vpcs">VPC</a> associated with the NIC</td>
</tr>
<tr>
<td><code class="prettyprint">secondaryIps</code><br/><em>SecondaryIP</em></td>
<td>The list of secondary IPs of the NIC<br/><em>includes:</em> <code class="prettyprint">id</code>, <code class="prettyprint">ipAddress</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Query Parameters</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">instance_id</code><br/><em>UUID</em></td>
<td>Filter the list to only retrieve the NICs of a specific <a href="#instances">instance</a></td>
</tr>
<tr>
<td><code class="prettyprint">network_id</code><br/><em>UUID</em></td>
<td>Filter the list to only retrieve the NICs of a specific <a href="#tiers">tier</a></td>
</tr>
</tbody></table>

<!-------------------- RETRIEVE A NIC -------------------->

<h4 id="retrieve-a-nic">Retrieve a NIC</h4>
<pre class="highlight shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/nics/fff1f45a-8350-4c87-be43-947b96d01ebd"</span>

<span class="c"># Example response:</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fff1f45a-8350-4c87-be43-947b96d01ebd"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NIC-0"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ipAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.169.253.165"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"isDefault"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"networkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d2243d4c-0dd8-4f8c-9ab4-4b1d285d5642"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"networkName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Backend"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"gateway"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.169.253.1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"netmask"</span><span class="p">:</span><span class="w"> </span><span class="s2">"255.255.255.0"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"instanceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b6145e8b-abd3ta-456c-832c-f3db86a6acfe"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"vpcId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5aa9f5d7-55a9-43bf-bd2c-78a6bae1b267"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"vpcName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default-vpc"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"secondaryIps"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9c28e297-5d23-41a3-a167-34dc24f1df19"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ipAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.169.253.124"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><code>GET /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/nics/:id</code></p>

<p>Retrieve an existing NIC.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code><br/><em>UUID</em></td>
<td>The id of the NIC</td>
</tr>
<tr>
<td><code class="prettyprint">name</code><br/><em>string</em></td>
<td>The name of the NIC</td>
</tr>
<tr>
<td><code class="prettyprint">ipAddress</code><br/><em>string</em></td>
<td>The IP address of the NIC</td>
</tr>
<tr>
<td><code class="prettyprint">isDefault</code><br/><em>string</em></td>
<td>true if it&rsquo;s the default NIC of the <a href="#instances">instance</a> (i.e. it will be the private IP on the instance)</td>
</tr>
<tr>
<td><code class="prettyprint">networkId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#tiers">tier</a> of the NIC</td>
</tr>
<tr>
<td><code class="prettyprint">networkName</code><br/><em>string</em></td>
<td>The name of the <a href="#tiers">tier</a> of the NIC</td>
</tr>
<tr>
<td><code class="prettyprint">gateway</code><br/><em>string</em></td>
<td>The gateway of the <a href="#tiers">tier</a> associated with the NIC</td>
</tr>
<tr>
<td><code class="prettyprint">netmask</code><br/><em>string</em></td>
<td>The netmask of the <a href="#tiers">tier</a> associated with the NIC</td>
</tr>
<tr>
<td><code class="prettyprint">instanceId</code><br/><em>string</em></td>
<td>The id of the <a href="#instances">instance</a> associated with the NIC</td>
</tr>
<tr>
<td><code class="prettyprint">vpcId</code><br/><em>string</em></td>
<td>The id of the <a href="#vpcs">VPC</a> associated with the NIC</td>
</tr>
<tr>
<td><code class="prettyprint">vpcName</code><br/><em>string</em></td>
<td>The name of the <a href="#vpcs">VPC</a> associated with the NIC</td>
</tr>
<tr>
<td><code class="prettyprint">secondaryIps</code><br/><em>SecondaryIP</em></td>
<td>The list of secondary IPs of the NIC<br/><em>includes:</em> <code class="prettyprint">id</code>, <code class="prettyprint">ipAddress</code></td>
</tr>
</tbody></table>

<!-------------------- CREATE A NIC -------------------->

<h4 id="create-a-nic">Create a NIC</h4>
<pre class="highlight shell"><code>
<span class="c"># Example:</span>

curl -X POST <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -d <span class="s2">"request_body"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/nics"</span>

<span class="c"># Request example:</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"networkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d67e986d-fe04-4827-836e-1697ede8ed30"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"instanceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"96330eea-4424-46ca-825c-82fdd051d8c3"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><code>POST /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/nics</code></p>

<p>Create a NIC for an <a href="#instances">instance</a> in a specific network. You can only have one NIC per <a href="#tiers">tier</a>.</p>

<table><thead>
<tr>
<th>Required</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">networkId</code><br/><em>string</em></td>
<td>The id of the <a href="#tiers">tier</a> where to create the NIC</td>
</tr>
<tr>
<td><code class="prettyprint">instanceId</code><br/><em>string</em></td>
<td>The id of the <a href="#instances">instance</a> where to attach the NIC</td>
</tr>
</tbody></table>

<!-------------------- DELETE A NIC -------------------->

<h4 id="delete-a-nic">Delete a NIC</h4>
<pre class="highlight shell"><code>
<span class="c"># Example:</span>

curl -X DELETE <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/nics"</span>
</code></pre>

<p><code>DELETE /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/nics/:id</code></p>

<p>Delete an existing NIC. The NIC you&rsquo;re trying to delete must not be the default one.</p>

<!-------------------- SET A NIC AS DEFAULT -------------------->

<h4 id="set-a-nic-as-default">Set a NIC as default</h4>
<pre class="highlight shell"><code>
<span class="c"># Example:</span>

curl -X POST <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/nics/63ef1efe-225f-4e05-bc79-b3e457a041e2?operation=setDefault"</span>
</code></pre>

<p><code>POST /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/nics/:id?operation=setDefault</code></p>

<p>Set an existing NIC as the default NIC of an <a href="#instances">instance</a>.</p>

              <h3 id="remote-access-vpns">Remote access VPNs</h3>

<p>Remote access VPNs allow users to connect to <a href="#vpcs">VPCs</a> through secure connections.</p>

<h4 id="list-remote-access-vpns">List remote access VPNs</h4>
<pre class="highlight shell"><code>curl -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/remoteaccessvpns"</span>

<span class="c"># Response example:</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10001e7d-b4ef-489b-836e-0619a383bc8d"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"publicIpAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"69.196.164.31"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"publicIpAddressId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10001e7d-b4ef-489b-836e-0619a383bc8d"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Disabled"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8925406c-8051-467e-a0ca-c48caa5bf670"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"presharedKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kwth4JYUfXXmtMG4X7vAwRPH"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"publicIpAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"69.196.164.223"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"publicIpAddressId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8925406c-8051-467e-a0ca-c48caa5bf670"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Enabled"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><code>GET /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/remoteaccessvpns</code></p>

<p>List remote access VPNs.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code><br/><em>UUID</em></td>
<td>The id of the remote access VPN</td>
</tr>
<tr>
<td><code class="prettyprint">presharedKey</code><br/><em>string</em></td>
<td>The VPN&rsquo;s preshared key</td>
</tr>
<tr>
<td><code class="prettyprint">publicIpAddress</code><br/><em>string</em></td>
<td>The <a href="#public-ips">public IP</a> (e.g. 208.80.154.224)</td>
</tr>
<tr>
<td><code class="prettyprint">publicIpAddressId</code><br/><em>string</em></td>
<td>The id of the <a href="#public-ips">public IP</a></td>
</tr>
<tr>
<td><code class="prettyprint">state</code><br/><em>string</em></td>
<td>The state.<br/><em>Possible values:</em> <code class="prettyprint">Enabled</code>, <code class="prettyprint">Disabled.</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Query Parameters</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">vpc_id</code><br/><em>UUID</em></td>
<td>Filter the list to only retrieve the VPN information of a specific <a href="#vpcs">VPC</a></td>
</tr>
</tbody></table>

<h4 id="retrieve-a-remote-access-vpn">Retrieve a remote access VPN</h4>
<pre class="highlight shell"><code>curl -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/remoteaccessvpns/10001e7d-b4ef-489b-836e-0619a383bc8d"</span>

<span class="c"># Response example:</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10001e7d-b4ef-489b-836e-0619a383bc8d"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"publicIpAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"69.196.164.31"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"publicIpAddressId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10001e7d-b4ef-489b-836e-0619a383bc8d"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Disabled"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><code>GET /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/remoteaccessvpns/:id</code></p>

<p>Retrieve a remote access VPN.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code><br/><em>UUID</em></td>
<td>The id of the remote access VPN</td>
</tr>
<tr>
<td><code class="prettyprint">presharedKey</code><br/><em>string</em></td>
<td>The VPN&rsquo;s preshared key</td>
</tr>
<tr>
<td><code class="prettyprint">publicIpAddress</code><br/><em>string</em></td>
<td>The <a href="#public-ips">public IP</a> (e.g. 208.80.154.224)</td>
</tr>
<tr>
<td><code class="prettyprint">publicIpAddressId</code><br/><em>string</em></td>
<td>The id of the <a href="#public-ips">public IP</a></td>
</tr>
<tr>
<td><code class="prettyprint">state</code><br/><em>string</em></td>
<td>The state.<br/><em>Possible values:</em> <code class="prettyprint">Enabled</code>, <code class="prettyprint">Disabled.</code></td>
</tr>
</tbody></table>

              <h3 id="vpn-users">VPN users</h3>

<p>VPN users are the accounts that are allowed to connect to <a href="#remote-access-vpns">remote access VPNs</a>.</p>

<h4 id="list-vpn-users">List VPN users</h4>
<pre class="highlight shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/vpnusers"</span>

<span class="c"># Response example:</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5de76bf5-9f61-487a-a989-042b52882da4"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wilson"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><code>GET /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/vpnusers</code></p>

<p>List VPN users.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code><br/><em>UUID</em></td>
<td>The id of the remote access VPN user</td>
</tr>
<tr>
<td><code class="prettyprint">username</code><br/><em>string</em></td>
<td>The VPN user&rsquo;s username</td>
</tr>
</tbody></table>

<h4 id="retrieve-a-vpn-user">Retrieve a VPN user</h4>
<pre class="highlight shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/vpnusers/5de76bf5-9f61-487a-a989-042b52882da4"</span>

<span class="c"># Response example:</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5de76bf5-9f61-487a-a989-042b52882da4"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wilson"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><code>GET /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/vpnusers/:id</code></p>

<p>Retrieve a VPN user</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code><br/><em>UUID</em></td>
<td>The id of the remote access VPN user</td>
</tr>
<tr>
<td><code class="prettyprint">username</code><br/><em>string</em></td>
<td>The VPN user&rsquo;s username</td>
</tr>
</tbody></table>

              <h2 id="storage">Storage</h2>

              <h3 id="volumes">Volumes</h3>

<p>A volume is a virtual disk that provide storage for your instances. An OS volumes is created for every instance and it holds the OS of the instance. The size of this volume is usually pretty. A data volume is a volume that can be created and attached to an instance. It can also be detached and reattached to another instance.</p>

<!-------------------- LIST VOLUMES -------------------->

<h4 id="list-volumes">List volumes</h4>
<pre class="highlight shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/volumes"</span>

<span class="c"># Example:</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1bd672f4-b274-4371-a792-b0a6c6778cc7"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DOUGLAS-ADM"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"os"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"creationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-19T14:25:41-0400"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"instanceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b6145e8b-abd3-456c-832c-f3db86a6acfe"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"instanceName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"i-douglas-ADM"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"zoneId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04afdbd1-e32d-4999-86d0-96703736dded"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"zoneName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QC-1"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ready"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sizeInGb"</span><span class="p">:</span><span class="w"> </span><span class="mi">40</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">volumes</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">Volumes</span><span class="o">.</span><span class="n">List</span><span class="p">()</span><span class="x">
</span></code></pre>

<p><code>GET /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/volumes</code></p>

<p>Retrieve a list of all volumes in an environment.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code><br/><em>UUID</em></td>
<td>The id of the volume</td>
</tr>
<tr>
<td><code class="prettyprint">name</code><br/><em>string</em></td>
<td>The name of the volume</td>
</tr>
<tr>
<td><code class="prettyprint">type</code><br/><em>string</em></td>
<td>The type of the volume. <code class="prettyprint">os</code> if it is a root volume of an <a href="#instances">instance</a>, <code class="prettyprint">data</code> otherwise</td>
</tr>
<tr>
<td><code class="prettyprint">creationDate</code><br/><em>string</em></td>
<td>The creation date of the volume</td>
</tr>
<tr>
<td><code class="prettyprint">instanceId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#instances">instance</a> to which the volume is attached</td>
</tr>
<tr>
<td><code class="prettyprint">instanceName</code><br/><em>string</em></td>
<td>The name of the <a href="#instances">instance</a> to which the volume is attached</td>
</tr>
<tr>
<td><code class="prettyprint">zoneId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#zones">zone</a> where the volume was created</td>
</tr>
<tr>
<td><code class="prettyprint">zoneName</code><br/><em>string</em></td>
<td>The name of the <a href="#zones">zone</a> where the volume was created</td>
</tr>
<tr>
<td><code class="prettyprint">state</code><br/><em>string</em></td>
<td>The state of the volume</td>
</tr>
<tr>
<td><code class="prettyprint">sizeInGb</code><br/><em>int</em></td>
<td>The size in gigabytes of the volume</td>
</tr>
</tbody></table>

<!-- iops<br/>*int* | The number of IOPS of the volume &ndash;>

<table><thead>
<tr>
<th>Query Parameters</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">type</code><br/><em>string</em></td>
<td>Filter the list to only retrieve the volumes of a specific type (<code class="prettyprint">os</code> or <code class="prettyprint">data</code>)</td>
</tr>
<tr>
<td><code class="prettyprint">instance_id</code><br/><em>UUID</em></td>
<td>Filter the list to only retrieve the volumes of a specific <a href="#instances">instance</a></td>
</tr>
</tbody></table>

<!-------------------- RETRIEVE A VOLUME -------------------->

<h4 id="retrieve-a-volume">Retrieve a volume</h4>
<pre class="highlight shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/volumes/1bd672f4-b274-4371-a792-b0a6c6778cc7"</span>

<span class="c"># Example:</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1bd672f4-b274-4371-a792-b0a6c6778cc7"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"deep_thought_42"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"data"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"creationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-19T14:25:41-0400"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"instanceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b6145e8b-abd3-456c-832c-f3db86a6acfe"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"instanceName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"i-douglas-ADM"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"zoneId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04afdbd1-e32d-4999-86d0-96703736dded"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"zoneName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QC-1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"diskOfferingId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21ba9c9b-a31e-496e-983f-e3041525bf95"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"diskOfferingName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50GB - 50 IOPS Min."</span><span class="p">,</span><span class="w">
    </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ready"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"sizeInGb"</span><span class="p">:</span><span class="w"> </span><span class="mi">40</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">volumes</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">Volumes</span><span class="o">.</span><span class="n">Get</span><span class="p">(</span><span class="s">"1bd672f4-b274-4371-a792-b0a6c6778cc7"</span><span class="p">)</span><span class="x">
</span></code></pre>

<p><code>GET /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/volumes/:id</code></p>

<p>Retrieve information about an volume.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code><br/><em>UUID</em></td>
<td>The id of the volume</td>
</tr>
<tr>
<td><code class="prettyprint">name</code><br/><em>string</em></td>
<td>The name of the volume</td>
</tr>
<tr>
<td><code class="prettyprint">type</code><br/><em>string</em></td>
<td>The type of the volume. <code class="prettyprint">os</code> if it is a root volume of an <a href="#instances">instance</a>, <code class="prettyprint">data</code> otherwise</td>
</tr>
<tr>
<td><code class="prettyprint">creationDate</code><br/><em>string</em></td>
<td>The creation date of the volume</td>
</tr>
<tr>
<td><code class="prettyprint">instanceId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#instances">instance</a> to which the volume is attached</td>
</tr>
<tr>
<td><code class="prettyprint">instanceName</code><br/><em>string</em></td>
<td>The name of the <a href="#instances">instance</a> to which the volume is attached</td>
</tr>
<tr>
<td><code class="prettyprint">zoneId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#zones">zone</a> where the volume was created</td>
</tr>
<tr>
<td><code class="prettyprint">zoneName</code><br/><em>string</em></td>
<td>The name of the <a href="#zones">zone</a> where the volume was created</td>
</tr>
<tr>
<td><code class="prettyprint">state</code><br/><em>string</em></td>
<td>The state of the volume</td>
</tr>
<tr>
<td><code class="prettyprint">sizeInGb</code><br/><em>int</em></td>
<td>The size in gigabytes of the volume</td>
</tr>
</tbody></table>

<!-- iops<br/>*int* | The number of IOPS of the volume &ndash;>

<!-------------------- CREATE A VOLUME -------------------->

<h4 id="create-a-volume">Create a volume</h4>
<pre class="highlight shell"><code>curl -X POST <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -d <span class="s2">"request_body"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/testing/volumes"</span>

<span class="c"># Request should look like this</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_volume"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"diskOfferingId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"166f85eb-b4a2-4000-8e0c-24104d551f60"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"zoneId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"37c0d1f2-523a-4c43-a522-26932992b193"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"instanceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c043e651-8b3f-4941-b47f-5ecb77f3423b"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">createdVolume</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">Volumes</span><span class="o">.</span><span class="n">Create</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Volume</span><span class="p">{</span><span class="x">
        </span><span class="n">Name</span><span class="o">:</span><span class="x"> </span><span class="s">"my_volume"</span><span class="p">,</span><span class="x">
        </span><span class="n">DiskOfferingId</span><span class="o">:</span><span class="x"> </span><span class="s">"166f85eb-b4a2-4000-8e0c-24104d551f60"</span><span class="p">,</span><span class="x">
        </span><span class="n">ZoneId</span><span class="o">:</span><span class="x"> </span><span class="s">"37c0d1f2-523a-4c43-a522-26932992b193"</span><span class="p">,</span><span class="x">
        </span><span class="n">InstanceId</span><span class="o">:</span><span class="x"> </span><span class="s">"c043e651-8b3f-4941-b47f-5ecb77f3423b"</span><span class="x">
    </span><span class="p">})</span><span class="x">
</span></code></pre>
<pre class="highlight dart"><code><span class="n">resource</span> <span class="s">"cloudca_volume"</span> <span class="s">"data_volume"</span> <span class="o">{</span>
    <span class="n">service_code</span> <span class="o">=</span> <span class="s">"compute-on"</span>
    <span class="n">environment_name</span> <span class="o">=</span> <span class="s">"test_area"</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">"my_volume"</span>
    <span class="n">disk_offering</span> <span class="o">=</span> <span class="s">"50GB - 50 IOPS Min."</span><span class="o">,</span>
    <span class="n">instance_id</span> <span class="o">=</span> <span class="s">"c043e651-8b3f-4941-b47f-5ecb77f3423b"</span>
<span class="o">}</span>
</code></pre>

<p><code>POST /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/volumes</code></p>

<p>Create a volume in an environment. Also, by specifying an <a href="#instances">instance</a>, it will attach the new volume to it.</p>

<table><thead>
<tr>
<th>Required</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>name<br/><em>string</em></td>
<td>The name of the new volume</td>
</tr>
<tr>
<td>diskOfferingId<br/><em>UUID</em></td>
<td>The <a href="#disk-offerings">disk offering</a> to use for the volume</td>
</tr>
<tr>
<td>zoneId<br/><em>UUID</em></td>
<td>The id of the <a href="#zones">zone</a> where the volume will be created</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Optional</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>instanceId<br/><em>UUID</em></td>
<td>The id of the <a href="#instances">instance</a> to which the created volume should be attached</td>
</tr>
</tbody></table>

<!-------------------- DELETE A VOLUME -------------------->

<h4 id="delete-a-volume">Delete a volume</h4>
<pre class="highlight shell"><code>
<span class="c"># Example:</span>

curl -X DELETE <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/volumes/e922e5fc-8fee-4688-ad93-c9ef5d7eb685"</span>
</code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">Volumes</span><span class="o">.</span><span class="n">Delete</span><span class="p">(</span><span class="s">"e922e5fc-8fee-4688-ad93-c9ef5d7eb685"</span><span class="p">)</span><span class="x">
</span></code></pre>

<p><code>DELETE /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/vpcs/:id</code></p>

<p>Destroy an existing data volume. A volume can only be deleted if it&rsquo;s not attached to an <a href="#instances">instance</a>.</p>

<!-------------------- ATTACH A VOLUME -------------------->

<h4 id="attach-a-volume-to-an-instance">Attach a volume to an instance</h4>
<pre class="highlight shell"><code>curl -X POST <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -d <span class="s2">"request_body"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/testing/volumes/e922e5fc-8fee-4688-ad93-c9ef5d7eb685?operation=attachToInstance"</span>

<span class="c"># Request should look like this</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"instanceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c043e651-8b3f-4941-b47f-5ecb77f3423b"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">Volumes</span><span class="o">.</span><span class="n">AttachToInstance</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Volume</span><span class="p">{</span><span class="x">
        </span><span class="n">Id</span><span class="o">:</span><span class="x"> </span><span class="s">"e922e5fc-8fee-4688-ad93-c9ef5d7eb685"</span><span class="x">
        </span><span class="n">InstanceId</span><span class="o">:</span><span class="x"> </span><span class="s">"c043e651-8b3f-4941-b47f-5ecb77f3423b"</span><span class="x">
    </span><span class="p">})</span><span class="x">
</span></code></pre>

<p><code>POST /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/volumes/:id?operation=attachToInstance</code></p>

<p>Attach an existing data volume to an <a href="#instances">instance</a>.</p>

<table><thead>
<tr>
<th>Required</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>instanceId<br/><em>UUID</em></td>
<td>The id of the <a href="#instances">instance</a> to which the created volume should be attached</td>
</tr>
</tbody></table>

<!-------------------- DETACH A VOLUME -------------------->

<h4 id="detach-a-volume-from-an-instance">Detach a volume from an instance</h4>
<pre class="highlight shell"><code>curl -X POST <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -d <span class="s2">"request_body"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/testing/volumes/e922e5fc-8fee-4688-ad93-c9ef5d7eb685?operation=detachFromInstance"</span>
</code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">Volumes</span><span class="o">.</span><span class="n">DetachFromInstance</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Volume</span><span class="p">{</span><span class="x">
        </span><span class="n">Id</span><span class="o">:</span><span class="x"> </span><span class="s">"e922e5fc-8fee-4688-ad93-c9ef5d7eb685"</span><span class="x">
    </span><span class="p">})</span><span class="x">
</span></code></pre>

<p><code>POST /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/volumes/:id?operation=detachFromInstance</code></p>

<p>Detach a data volume from an <a href="#instances">instance</a>.</p>

              <h3 id="snapshots">Snapshots</h3>

<p>A volume snapshot is a full image of a volume. They are often considered as backups, but in reality this is not 100% true since you have only the data written on disk. Volume Snapshots are typically used to derive new templates out of a running instance.</p>

<!-------------------- LIST SNAPSHOTS -------------------->

<h4 id="list-snapshots">List snapshots</h4>
<pre class="highlight shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/snapshots"</span>

<span class="c"># Example:</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"33a27b8d-5a27-42a5-aec4-37606e372bda"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"i-douglas-ADM_foo_20161116211009"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BackedUp"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"intervalType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MANUAL"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"volumeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c779ca42-6966-41af-a7dc-23db4e41d4ee"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"volume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ROOT-35545"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"volumeType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ROOT-35545"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><code>GET /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/snapshots</code></p>

<p>Retrieve a list of all snapshots in an <a href="#environments">environment</a></p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code><br/><em>UUID</em></td>
<td>The id of the snapshot</td>
</tr>
<tr>
<td><code class="prettyprint">name</code><br/><em>string</em></td>
<td>The name of the snapshot</td>
</tr>
<tr>
<td><code class="prettyprint">state</code><br/><em>string</em></td>
<td>The state of the snapshot</td>
</tr>
<tr>
<td><code class="prettyprint">intervalType</code><br/><em>string</em></td>
<td>The interval type. <code class="prettyprint">MANUAL</code> means that you created the snapshot manually (i.e. it&rsquo;s not a recurring snapshot)</td>
</tr>
<tr>
<td><code class="prettyprint">volumeId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#volumes">volume</a> that was snapshotted</td>
</tr>
<tr>
<td><code class="prettyprint">volume</code><br/><em>string</em></td>
<td>The name of the <a href="#volumes">volume</a> that was snapshotted</td>
</tr>
<tr>
<td><code class="prettyprint">volumeType</code><br/><em>string</em></td>
<td>The type of the <a href="#volumes">volume</a> that was snapshotted</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Query Parameters</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">volume_id</code><br/><em>UUID</em></td>
<td>Filter the list to only retrieve the snapshots of a specific <a href="#volumes">volume</a></td>
</tr>
</tbody></table>

<!-------------------- RETRIEVE A SNAPSHOT -------------------->

<h4 id="retrieve-a-snapshot">Retrieve a snapshot</h4>
<pre class="highlight shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/snapshots/1bd672f4-b274-4371-a792-b0a6c6778cc7"</span>

<span class="c"># Example:</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"33a27b8d-5a27-42a5-aec4-37606e372bda"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"i-douglas-ADM_foo_20161116211009"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BackedUp"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"intervalType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MANUAL"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"volumeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c779ca42-6966-41af-a7dc-23db4e41d4ee"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"volume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ROOT-35545"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"volumeType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ROOT-35545"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><code>GET /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/snapshots/:id</code></p>

<p>Retrieve information about a snapshot.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code><br/><em>UUID</em></td>
<td>The id of the snapshot</td>
</tr>
<tr>
<td><code class="prettyprint">name</code><br/><em>string</em></td>
<td>The name of the snapshot</td>
</tr>
<tr>
<td><code class="prettyprint">state</code><br/><em>string</em></td>
<td>The state of the snapshot</td>
</tr>
<tr>
<td><code class="prettyprint">intervalType</code><br/><em>string</em></td>
<td>The interval type. <code class="prettyprint">MANUAL</code> means that you created the snapshot manually (i.e. it&rsquo;s not a recurring snapshot)</td>
</tr>
<tr>
<td><code class="prettyprint">volumeId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#volumes">volume</a> that was snapshotted</td>
</tr>
<tr>
<td><code class="prettyprint">volume</code><br/><em>string</em></td>
<td>The name of the <a href="#volumes">volume</a> that was snapshotted</td>
</tr>
<tr>
<td><code class="prettyprint">volumeType</code><br/><em>string</em></td>
<td>The type of the <a href="#volumes">volume</a> that was snapshotted</td>
</tr>
</tbody></table>

              <h2 id="offerings">Offerings</h2>

<p>Offerings are what determine the characteristics of provisioned resources. There are 4 types of offerings : <a href="#compute-offerings">compute</a>, <a href="#disk-offerings">disk</a>, <a href="#vpc-offerings">VPC</a> and <a href="#network-offerings">tier</a> offerings.</p>

              <h3 id="vpc-offerings">VPC offerings</h3>

<p>VPC offerings determine which services are available to provisioned <a href="#vpcs">VPCs</a>.</p>

<h4 id="list-vpc-offerings">List VPC offerings</h4>
<pre class="highlight shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/vpcofferings"</span>

<span class="c"># The above command returns JSON structured like this:</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"41ac6ba0-6172-4bc4-bff6-b0831b91677c"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Default VPC offering"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"services"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"PortForwarding"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Vpn"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"SourceNat"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Dhcp"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"NetworkACL"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Dns"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Lb"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"UserData"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"StaticNat"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Enabled"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">vpcOfferings</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">VpcOfferings</span><span class="o">.</span><span class="n">List</span><span class="p">()</span><span class="x">
</span></code></pre>

<p><code>GET /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/vpcofferings</code></p>

<p>Retrieve a list of available VPC offerings.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code><br/><em>UUID</em></td>
<td>The id of the VPC offering</td>
</tr>
<tr>
<td><code class="prettyprint">name</code><br/><em>string</em></td>
<td>The name of the VPC offering</td>
</tr>
<tr>
<td><code class="prettyprint">services</code><br/><em>Array[string]</em></td>
<td>The services provided by the offering</td>
</tr>
<tr>
<td><code class="prettyprint">state</code><br/><em>string</em></td>
<td>The state of the offering</td>
</tr>
</tbody></table>

<h4 id="retrieve-a-vpc-offering">Retrieve a VPC offering</h4>
<pre class="highlight shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/vpcofferings/41ac6ba0-6172-4bc4-bff6-b0831b91677c"</span>

<span class="c"># The above command returns JSON structured like this:</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"41ac6ba0-6172-4bc4-bff6-b0831b91677c"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Default VPC offering"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"services"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"PortForwarding"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Lb"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"NetworkACL"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"SourceNat"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Dns"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"StaticNat"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Vpn"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Dhcp"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"UserData"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Enabled"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">vpcOfferings</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">VpcOfferings</span><span class="o">.</span><span class="n">Get</span><span class="p">(</span><span class="s">"41ac6ba0-6172-4bc4-bff6-b0831b91677c"</span><span class="p">)</span><span class="x">
</span></code></pre>

<p><code>GET /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/vpcofferings/:id</code></p>

<p>Retrieve a VPC offering.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code><br/><em>UUID</em></td>
<td>The id of the VPC offering</td>
</tr>
<tr>
<td><code class="prettyprint">name</code><br/><em>string</em></td>
<td>The name of the VPC offering</td>
</tr>
<tr>
<td><code class="prettyprint">services</code><br/><em>Array[string]</em></td>
<td>The services provided by the offering</td>
</tr>
<tr>
<td><code class="prettyprint">state</code><br/><em>string</em></td>
<td>The state of the offering</td>
</tr>
</tbody></table>

              <h3 id="network-offerings">Network offerings</h3>

<p>Network offerings determine which services are available to each provisioned <a href="#tiers">tier</a>.</p>

<h4 id="list-network-offerings">List network offerings</h4>
<pre class="highlight shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/networkofferings"</span>

<span class="c"># The above command returns JSON structured like this:</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"89724d35-b69c-418c-be81-7d83fcfc9da9"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Load Balanced Tier"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"services"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"PortForwarding"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Vpn"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"SourceNat"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Dhcp"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"NetworkACL"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Dns"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Lb"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"UserData"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"StaticNat"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ENABLED"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"087502ea-cb42-421b-9bd9-9cf9ae5d1b89"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard Tier"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"services"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"PortForwarding"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Vpn"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"SourceNat"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Dhcp"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"NetworkACL"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Dns"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"UserData"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"StaticNat"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ENABLED"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">networkOfferings</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">NetworkOfferings</span><span class="o">.</span><span class="n">List</span><span class="p">()</span><span class="x">
</span></code></pre>

<p><code>GET /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/networkofferings</code></p>

<p>Retrieve a list of available network offerings.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code><br/><em>UUID</em></td>
<td>The id of the network offering</td>
</tr>
<tr>
<td><code class="prettyprint">name</code><br/><em>string</em></td>
<td>The name of the network offering</td>
</tr>
<tr>
<td><code class="prettyprint">services</code><br/><em>Array[string]</em></td>
<td>The services provided by the offering</td>
</tr>
<tr>
<td><code class="prettyprint">state</code><br/><em>string</em></td>
<td>The state of the offering</td>
</tr>
</tbody></table>

<h4 id="retrieve-a-network-offering">Retrieve a network offering</h4>
<pre class="highlight shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/networkofferings/89724d35-b69c-418c-be81-7d83fcfc9da9"</span>

<span class="c"># The above command returns JSON structured like this:</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"89724d35-b69c-418c-be81-7d83fcfc9da9"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Load Balanced Tier"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"services"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"PortForwarding"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Lb"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"NetworkACL"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"SourceNat"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Dns"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"StaticNat"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Vpn"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Dhcp"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"UserData"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ENABLED"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">networkOfferings</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">NetworkOfferings</span><span class="o">.</span><span class="n">Get</span><span class="p">(</span><span class="s">"89724d35-b69c-418c-be81-7d83fcfc9da9"</span><span class="p">)</span><span class="x">
</span></code></pre>

<p><code>GET /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/networkofferings/:id</code></p>

<p>Retrieve a network offering.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code><br/><em>UUID</em></td>
<td>The id of the network offering</td>
</tr>
<tr>
<td><code class="prettyprint">name</code><br/><em>string</em></td>
<td>The name of the network offering</td>
</tr>
<tr>
<td><code class="prettyprint">services</code><br/><em>Array[string]</em></td>
<td>The services provided by the offering</td>
</tr>
<tr>
<td><code class="prettyprint">state</code><br/><em>string</em></td>
<td>The state of the offering</td>
</tr>
</tbody></table>

              <h3 id="compute-offerings">Compute offerings</h3>

<p>Compute offerings determine the number of vCPUs and the size of the memory allocated to new <a href="#instances">instances</a>.</p>

<h4 id="list-compute-offerings">List compute offerings</h4>
<pre class="highlight shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/computeofferings"</span>

<span class="c"># The above command returns JSON structured like this:</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"cpuCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40a2e5f7-22e6-4d1e-b03b-4a4b7c9cbc6f"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"memoryInMB"</span><span class="p">:</span><span class="w"> </span><span class="mi">512</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1vCPU.512MB"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"custom"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"cpuCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1fb0caba-8ffb-4e77-8dcb-401170e15e0a"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"memoryInMB"</span><span class="p">:</span><span class="w"> </span><span class="mi">1024</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1vCPU.1GB"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"custom"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">computeOfferings</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">ComputeOfferings</span><span class="o">.</span><span class="n">List</span><span class="p">()</span><span class="x">
</span></code></pre>

<p><code>GET /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/computeofferings</code></p>

<p>Retrieve a list of available compute offerings.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code><br/><em>UUID</em></td>
<td>The id of the compute offering</td>
</tr>
<tr>
<td><code class="prettyprint">name</code><br/><em>string</em></td>
<td>The name of the compute offering</td>
</tr>
<tr>
<td><code class="prettyprint">memoryInMB</code><br/><em>int</em></td>
<td>The amount of provisioned memory in MB</td>
</tr>
<tr>
<td><code class="prettyprint">cpuCount</code><br/><em>int</em></td>
<td>The number of vCPUs available to the created <a href="#instances">instance</a></td>
</tr>
<tr>
<td><code class="prettyprint">custom</code><br/><em>boolean</em></td>
<td>If true, the <code class="prettyprint">cpuCount</code> and <code class="prettyprint">memoryInMB</code> fields will be missing from the response and will be required on <a href="#create-an-instance">instance create</a></td>
</tr>
<tr>
<td><code class="prettyprint">cpuCountValues</code><br/><em>Array[integer]</em></td>
<td>The list of valid cpu counts when used in the <a href="#create-an-instance">create instance operation</a>. Only present for custom offerings</td>
</tr>
<tr>
<td><code class="prettyprint">memoryInMBValues</code><br/><em>Array[integer]</em></td>
<td>The list of valid amounts of memory (in MB) that can be used in the <a href="#create-an-instance">create instance operation</a>. Only present for custom offerings</td>
</tr>
<tr>
<td><code class="prettyprint">memoryInMBToCpuRatio</code><br/><em>integer</em></td>
<td>The maximum ratio of memory (in MB) to number of CPU of an <a href="#instance">instance</a> created with this offering. Only present for custom offerings.</td>
</tr>
</tbody></table>

<h4 id="retrieve-a-compute-offering">Retrieve a compute offering</h4>
<pre class="highlight shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/computeofferings/40a2e5f7-22e6-4d1e-b03b-4a4b7c9cbc6f"</span>

<span class="c"># The above command returns JSON structured like this:</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"cpuNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40a2e5f7-22e6-4d1e-b03b-4a4b7c9cbc6f"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"memory"</span><span class="p">:</span><span class="w"> </span><span class="mi">512</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1vCPU.512MB"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"custom"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">computeOfferings</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">ComputeOfferings</span><span class="o">.</span><span class="n">Get</span><span class="p">(</span><span class="s">"40a2e5f7-22e6-4d1e-b03b-4a4b7c9cbc6f"</span><span class="p">)</span><span class="x">
</span></code></pre>

<p><code>GET /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/computeofferings/:id</code></p>

<p>Retrieve a compute offering.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code><br/><em>UUID</em></td>
<td>The id of the compute offering</td>
</tr>
<tr>
<td><code class="prettyprint">name</code><br/><em>string</em></td>
<td>The name of the compute offering</td>
</tr>
<tr>
<td><code class="prettyprint">memoryInMB</code><br/><em>int</em></td>
<td>The amount of provisioned memory in MB</td>
</tr>
<tr>
<td><code class="prettyprint">cpuCount</code><br/><em>int</em></td>
<td>The number of vCPUs available to the created <a href="#instances">instance</a></td>
</tr>
<tr>
<td><code class="prettyprint">custom</code><br/><em>boolean</em></td>
<td>If true, the <code class="prettyprint">cpuCount</code> and <code class="prettyprint">memoryInMB</code> fields will be missing from the response and will be required on <a href="#create-an-instance">instance create</a></td>
</tr>
<tr>
<td><code class="prettyprint">cpuCountValues</code><br/><em>Array[integer]</em></td>
<td>The list of valid cpu counts when used in the <a href="#create-an-instance">create instance operation</a>. Only present for custom offerings</td>
</tr>
<tr>
<td><code class="prettyprint">memoryInMBValues</code><br/><em>Array[integer]</em></td>
<td>The list of valid amounts of memory (in MB) that can be used in the <a href="#create-an-instance">create instance operation</a>. Only present for custom offerings</td>
</tr>
<tr>
<td><code class="prettyprint">memoryInMBToCpuRatio</code><br/><em>integer</em></td>
<td>The maximum ratio of memory (in MB) to number of CPU of an <a href="#instance">instance</a> created with this offering. Only present for custom offerings.</td>
</tr>
</tbody></table>

              <h3 id="disk-offerings">Disk offerings</h3>

<p>Disk offerings determine the size and the performance (IOPS) of <a href="#volumes">data volumes</a>.</p>

<h4 id="list-disk-offerings">List disk offerings</h4>
<pre class="highlight shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/diskofferings"</span>

<span class="c"># The above command returns JSON structured like this:</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"customIops"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nt">"customSize"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nt">"gbSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18bbab50-8d85-4b34-8361-0dc223ffd7e5"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20GB - 20 IOPS Min."</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"customIops"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nt">"customSize"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nt">"gbSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0432acc2-9226-4945-bf2e-9c8157be31d1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50GB - 50 IOPS Min."</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">diskOfferings</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">DiskOfferings</span><span class="o">.</span><span class="n">List</span><span class="p">()</span><span class="x">
</span></code></pre>

<p><code>GET /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/diskofferings</code></p>

<p>Retrieve a list of available disk offerings.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code><br/><em>UUID</em></td>
<td>The id of the disk offering</td>
</tr>
<tr>
<td><code class="prettyprint">name</code><br/><em>string</em></td>
<td>The name of the disk offering</td>
</tr>
<tr>
<td><code class="prettyprint">gbSize</code><br/><em>int</em></td>
<td>The size of the <a href="#volumes">data volume</a> in GB</td>
</tr>
<tr>
<td><code class="prettyprint">customSize</code><br/><em>boolean</em></td>
<td>If the offering supports custom size</td>
</tr>
<tr>
<td><code class="prettyprint">customIops</code><br/><em>boolean</em></td>
<td>If the offering supports custom IOPS</td>
</tr>
</tbody></table>

<h4 id="retrieve-a-disk-offering">Retrieve a disk offering</h4>
<pre class="highlight shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/diskofferings/18bbab50-8d85-4b34-8361-0dc223ffd7e5"</span>

<span class="c"># The above command returns JSON structured like this:</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"customIops"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"customSize"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"gbSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18bbab50-8d85-4b34-8361-0dc223ffd7e5"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20GB - 20 IOPS Min."</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">diskOfferings</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">DiskOfferings</span><span class="o">.</span><span class="n">Get</span><span class="p">(</span><span class="s">"18bbab50-8d85-4b34-8361-0dc223ffd7e5"</span><span class="p">)</span><span class="x">
</span></code></pre>

<p><code>GET /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/diskofferings/:id</code></p>

<p>Retrieve a disk offering.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code><br/><em>UUID</em></td>
<td>The id of the disk offering</td>
</tr>
<tr>
<td><code class="prettyprint">name</code><br/><em>string</em></td>
<td>The name of the disk offering</td>
</tr>
<tr>
<td><code class="prettyprint">gbSize</code><br/><em>int</em></td>
<td>The size of the <a href="#volumes">data volume</a> in GB</td>
</tr>
<tr>
<td><code class="prettyprint">customSize</code><br/><em>boolean</em></td>
<td>If the offering supports custom size</td>
</tr>
<tr>
<td><code class="prettyprint">customIops</code><br/><em>boolean</em></td>
<td>If the offering supports custom IOPS</td>
</tr>
</tbody></table>

              <h2 id="zones">Zones</h2>

<p>Each zone consists of physically isolated hosts, storage, and networking infrastructure. Like deploying workloads across regions, deploying workloads over multiple zones can help ensure high availability of applications.</p>

<h4 id="list-zones">List zones</h4>
<pre class="highlight shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/zones"</span>

<span class="c"># The above command returns JSON structured like this:</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ea901007-056b-4c50-bb3a-2dd635fce2ab"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ON-1"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">zones</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">Zones</span><span class="o">.</span><span class="n">List</span><span class="p">()</span><span class="x">
</span></code></pre>

<p><code>GET /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/zones</code></p>

<p>Retrieve a list of available zones.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code><br/><em>UUID</em></td>
<td>The id of the zone</td>
</tr>
<tr>
<td><code class="prettyprint">name</code><br/><em>string</em></td>
<td>The name of the zone</td>
</tr>
</tbody></table>

<h4 id="retrieve-a-zone">Retrieve a zone</h4>
<pre class="highlight shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://api.cloud.ca/v1/services/compute-on/test_area/zones/ea901007-056b-4c50-bb3a-2dd635fce2ab"</span>

<span class="c"># The above command returns JSON structured like this:</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ea901007-056b-4c50-bb3a-2dd635fce2ab"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ON-1"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<pre class="highlight go"><code><span class="n">resources</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaClient</span><span class="o">.</span><span class="n">GetResources</span><span class="p">(</span><span class="s">"compute-on"</span><span class="p">,</span><span class="x"> </span><span class="s">"test_area"</span><span class="p">)</span><span class="x">
</span><span class="n">ccaResources</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">resources</span><span class="o">.</span><span class="p">(</span><span class="n">cloudca</span><span class="o">.</span><span class="n">Resources</span><span class="p">)</span><span class="x">
</span><span class="n">zones</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ccaResources</span><span class="o">.</span><span class="n">Zones</span><span class="o">.</span><span class="n">Get</span><span class="p">(</span><span class="s">"ea901007-056b-4c50-bb3a-2dd635fce2ab"</span><span class="p">)</span><span class="x">
</span></code></pre>

<p><code>GET /services/<a href="#service-connections">:service_code</a>/<a href="#environments">:environment_name</a>/zones/:id</code></p>

<p>Retrieve a zone</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code><br/><em>UUID</em></td>
<td>The id of the zone</td>
</tr>
<tr>
<td><code class="prettyprint">name</code><br/><em>string</em></td>
<td>The name of the zone</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">curl</a>
                <a href="#" data-language-name="go">go</a>
                <a href="#" data-language-name="hcl">terraform</a>
          </div>
      </div>
    </div>
  </body>
</html>
